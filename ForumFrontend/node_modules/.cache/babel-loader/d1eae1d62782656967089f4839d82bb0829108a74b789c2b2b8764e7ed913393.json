{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.array.reduce.js\");\nrequire(\"core-js/modules/es.iterator.constructor.js\");\nrequire(\"core-js/modules/es.iterator.reduce.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.object.values.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar useColumns = require('./composables/use-columns.js');\nvar useScrollbar = require('./composables/use-scrollbar.js');\nvar useRow = require('./composables/use-row.js');\nvar useData = require('./composables/use-data.js');\nvar useStyles = require('./composables/use-styles.js');\nvar index = require('../../../hooks/use-namespace/index.js');\nvar types = require('../../../utils/types.js');\nvar shared = require('@vue/shared');\nfunction useTable(props) {\n  var mainTableRef = vue.ref();\n  var leftTableRef = vue.ref();\n  var rightTableRef = vue.ref();\n  var _useColumns$useColumn = useColumns.useColumns(props, vue.toRef(props, \"columns\"), vue.toRef(props, \"fixed\")),\n    columns = _useColumns$useColumn.columns,\n    columnsStyles = _useColumns$useColumn.columnsStyles,\n    columnsTotalWidth = _useColumns$useColumn.columnsTotalWidth,\n    fixedColumnsOnLeft = _useColumns$useColumn.fixedColumnsOnLeft,\n    fixedColumnsOnRight = _useColumns$useColumn.fixedColumnsOnRight,\n    hasFixedColumns = _useColumns$useColumn.hasFixedColumns,\n    mainColumns = _useColumns$useColumn.mainColumns,\n    onColumnSorted = _useColumns$useColumn.onColumnSorted;\n  var _useScrollbar$useScro = useScrollbar.useScrollbar(props, {\n      mainTableRef: mainTableRef,\n      leftTableRef: leftTableRef,\n      rightTableRef: rightTableRef,\n      onMaybeEndReached: onMaybeEndReached\n    }),\n    scrollTo = _useScrollbar$useScro.scrollTo,\n    scrollToLeft = _useScrollbar$useScro.scrollToLeft,\n    scrollToTop = _useScrollbar$useScro.scrollToTop,\n    scrollToRow = _useScrollbar$useScro.scrollToRow,\n    onScroll = _useScrollbar$useScro.onScroll,\n    onVerticalScroll = _useScrollbar$useScro.onVerticalScroll,\n    scrollPos = _useScrollbar$useScro.scrollPos;\n  var ns = index.useNamespace(\"table-v2\");\n  var instance = vue.getCurrentInstance();\n  var isScrolling = vue.shallowRef(false);\n  var _useRow$useRow = useRow.useRow(props, {\n      mainTableRef: mainTableRef,\n      leftTableRef: leftTableRef,\n      rightTableRef: rightTableRef,\n      tableInstance: instance,\n      ns: ns,\n      isScrolling: isScrolling\n    }),\n    expandedRowKeys = _useRow$useRow.expandedRowKeys,\n    lastRenderedRowIndex = _useRow$useRow.lastRenderedRowIndex,\n    isDynamic = _useRow$useRow.isDynamic,\n    isResetting = _useRow$useRow.isResetting,\n    rowHeights = _useRow$useRow.rowHeights,\n    resetAfterIndex = _useRow$useRow.resetAfterIndex,\n    onRowExpanded = _useRow$useRow.onRowExpanded,\n    onRowHeightChange = _useRow$useRow.onRowHeightChange,\n    onRowHovered = _useRow$useRow.onRowHovered,\n    onRowsRendered = _useRow$useRow.onRowsRendered;\n  var _useData$useData = useData.useData(props, {\n      expandedRowKeys: expandedRowKeys,\n      lastRenderedRowIndex: lastRenderedRowIndex,\n      resetAfterIndex: resetAfterIndex\n    }),\n    data = _useData$useData.data,\n    depthMap = _useData$useData.depthMap;\n  var rowsHeight = vue.computed(function () {\n    var estimatedRowHeight = props.estimatedRowHeight,\n      rowHeight = props.rowHeight;\n    var _data = vue.unref(data);\n    if (types.isNumber(estimatedRowHeight)) {\n      return Object.values(vue.unref(rowHeights)).reduce(function (acc, curr) {\n        return acc + curr;\n      }, 0);\n    }\n    return _data.length * rowHeight;\n  });\n  var _useStyles$useStyles = useStyles.useStyles(props, {\n      columnsTotalWidth: columnsTotalWidth,\n      fixedColumnsOnLeft: fixedColumnsOnLeft,\n      fixedColumnsOnRight: fixedColumnsOnRight,\n      rowsHeight: rowsHeight\n    }),\n    bodyWidth = _useStyles$useStyles.bodyWidth,\n    fixedTableHeight = _useStyles$useStyles.fixedTableHeight,\n    mainTableHeight = _useStyles$useStyles.mainTableHeight,\n    leftTableWidth = _useStyles$useStyles.leftTableWidth,\n    rightTableWidth = _useStyles$useStyles.rightTableWidth,\n    headerWidth = _useStyles$useStyles.headerWidth,\n    windowHeight = _useStyles$useStyles.windowHeight,\n    footerHeight = _useStyles$useStyles.footerHeight,\n    emptyStyle = _useStyles$useStyles.emptyStyle,\n    rootStyle = _useStyles$useStyles.rootStyle,\n    headerHeight = _useStyles$useStyles.headerHeight;\n  var containerRef = vue.ref();\n  var showEmpty = vue.computed(function () {\n    var noData = vue.unref(data).length === 0;\n    return shared.isArray(props.fixedData) ? props.fixedData.length === 0 && noData : noData;\n  });\n  function getRowHeight(rowIndex) {\n    var estimatedRowHeight = props.estimatedRowHeight,\n      rowHeight = props.rowHeight,\n      rowKey = props.rowKey;\n    if (!estimatedRowHeight) return rowHeight;\n    return vue.unref(rowHeights)[vue.unref(data)[rowIndex][rowKey]] || estimatedRowHeight;\n  }\n  var isEndReached = vue.ref(false);\n  function onMaybeEndReached() {\n    var onEndReached = props.onEndReached;\n    if (!onEndReached) return;\n    var _vue$unref = vue.unref(scrollPos),\n      scrollTop = _vue$unref.scrollTop;\n    var _totalHeight = vue.unref(rowsHeight);\n    var clientHeight = vue.unref(windowHeight);\n    var remainDistance = _totalHeight - (scrollTop + clientHeight) + props.hScrollbarSize;\n    if (!isEndReached.value && vue.unref(lastRenderedRowIndex) >= 0 && _totalHeight <= scrollTop + vue.unref(mainTableHeight) - vue.unref(headerHeight)) {\n      isEndReached.value = true;\n      onEndReached(remainDistance);\n    } else {\n      isEndReached.value = false;\n    }\n  }\n  vue.watch(function () {\n    return vue.unref(rowsHeight);\n  }, function () {\n    return isEndReached.value = false;\n  });\n  vue.watch(function () {\n    return props.expandedRowKeys;\n  }, function (val) {\n    return expandedRowKeys.value = val;\n  }, {\n    deep: true\n  });\n  return {\n    columns: columns,\n    containerRef: containerRef,\n    mainTableRef: mainTableRef,\n    leftTableRef: leftTableRef,\n    rightTableRef: rightTableRef,\n    isDynamic: isDynamic,\n    isResetting: isResetting,\n    isScrolling: isScrolling,\n    hasFixedColumns: hasFixedColumns,\n    columnsStyles: columnsStyles,\n    columnsTotalWidth: columnsTotalWidth,\n    data: data,\n    expandedRowKeys: expandedRowKeys,\n    depthMap: depthMap,\n    fixedColumnsOnLeft: fixedColumnsOnLeft,\n    fixedColumnsOnRight: fixedColumnsOnRight,\n    mainColumns: mainColumns,\n    bodyWidth: bodyWidth,\n    emptyStyle: emptyStyle,\n    rootStyle: rootStyle,\n    headerWidth: headerWidth,\n    footerHeight: footerHeight,\n    mainTableHeight: mainTableHeight,\n    fixedTableHeight: fixedTableHeight,\n    leftTableWidth: leftTableWidth,\n    rightTableWidth: rightTableWidth,\n    showEmpty: showEmpty,\n    getRowHeight: getRowHeight,\n    onColumnSorted: onColumnSorted,\n    onRowHovered: onRowHovered,\n    onRowExpanded: onRowExpanded,\n    onRowsRendered: onRowsRendered,\n    onRowHeightChange: onRowHeightChange,\n    scrollTo: scrollTo,\n    scrollToLeft: scrollToLeft,\n    scrollToTop: scrollToTop,\n    scrollToRow: scrollToRow,\n    onScroll: onScroll,\n    onVerticalScroll: onVerticalScroll\n  };\n}\nexports.useTable = useTable;","map":{"version":3,"names":["useTable","props","mainTableRef","vue","ref","leftTableRef","rightTableRef","_useColumns$useColumn","useColumns","toRef","columns","columnsStyles","columnsTotalWidth","fixedColumnsOnLeft","fixedColumnsOnRight","hasFixedColumns","mainColumns","onColumnSorted","_useScrollbar$useScro","useScrollbar","onMaybeEndReached","scrollTo","scrollToLeft","scrollToTop","scrollToRow","onScroll","onVerticalScroll","scrollPos","ns","index","useNamespace","instance","getCurrentInstance","isScrolling","shallowRef","_useRow$useRow","useRow","tableInstance","expandedRowKeys","lastRenderedRowIndex","isDynamic","isResetting","rowHeights","resetAfterIndex","onRowExpanded","onRowHeightChange","onRowHovered","onRowsRendered","_useData$useData","useData","data","depthMap","rowsHeight","computed","estimatedRowHeight","rowHeight","_data","unref","types","isNumber","Object","values","reduce","acc","curr","length","_useStyles$useStyles","useStyles","bodyWidth","fixedTableHeight","mainTableHeight","leftTableWidth","rightTableWidth","headerWidth","windowHeight","footerHeight","emptyStyle","rootStyle","headerHeight","containerRef","showEmpty","noData","shared","isArray","fixedData","getRowHeight","rowIndex","rowKey","isEndReached","onEndReached","_vue$unref","scrollTop","_totalHeight","clientHeight","remainDistance","hScrollbarSize","value","watch","val","deep"],"sources":["../../../../../../packages/components/table-v2/src/use-table.ts"],"sourcesContent":["import {\n  computed,\n  getCurrentInstance,\n  ref,\n  shallowRef,\n  toRef,\n  unref,\n  watch,\n} from 'vue'\nimport { isArray, isNumber } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport {\n  useColumns,\n  useData,\n  useRow,\n  useScrollbar,\n  useStyles,\n} from './composables'\n\nimport type { TableV2Props } from './table'\nimport type { TableGridInstance } from './table-grid'\n\nfunction useTable(props: TableV2Props) {\n  const mainTableRef = ref<TableGridInstance>()\n  const leftTableRef = ref<TableGridInstance>()\n  const rightTableRef = ref<TableGridInstance>()\n  const {\n    columns,\n    columnsStyles,\n    columnsTotalWidth,\n    fixedColumnsOnLeft,\n    fixedColumnsOnRight,\n    hasFixedColumns,\n    mainColumns,\n\n    onColumnSorted,\n  } = useColumns(props, toRef(props, 'columns'), toRef(props, 'fixed'))\n\n  const {\n    scrollTo,\n    scrollToLeft,\n    scrollToTop,\n    scrollToRow,\n    onScroll,\n    onVerticalScroll,\n    scrollPos,\n  } = useScrollbar(props, {\n    mainTableRef,\n    leftTableRef,\n    rightTableRef,\n\n    onMaybeEndReached,\n  })\n\n  const ns = useNamespace('table-v2')\n  const instance = getCurrentInstance()!\n\n  // state\n  const isScrolling = shallowRef(false)\n\n  const {\n    expandedRowKeys,\n    lastRenderedRowIndex,\n    isDynamic,\n    isResetting,\n    rowHeights,\n    resetAfterIndex,\n    onRowExpanded,\n    onRowHeightChange,\n    onRowHovered,\n    onRowsRendered,\n  } = useRow(props, {\n    mainTableRef,\n    leftTableRef,\n    rightTableRef,\n    tableInstance: instance,\n    ns,\n    isScrolling,\n  })\n\n  const { data, depthMap } = useData(props, {\n    expandedRowKeys,\n    lastRenderedRowIndex,\n    resetAfterIndex,\n  })\n\n  const rowsHeight = computed(() => {\n    const { estimatedRowHeight, rowHeight } = props\n    const _data = unref(data)\n    if (isNumber(estimatedRowHeight)) {\n      // calculate the actual height\n      return Object.values(unref(rowHeights)).reduce(\n        (acc, curr) => acc + curr,\n        0\n      )\n    }\n\n    return _data.length * rowHeight\n  })\n\n  const {\n    bodyWidth,\n    fixedTableHeight,\n    mainTableHeight,\n    leftTableWidth,\n    rightTableWidth,\n    headerWidth,\n    windowHeight,\n    footerHeight,\n    emptyStyle,\n    rootStyle,\n    headerHeight,\n  } = useStyles(props, {\n    columnsTotalWidth,\n    fixedColumnsOnLeft,\n    fixedColumnsOnRight,\n    rowsHeight,\n  })\n\n  // DOM/Component refs\n  const containerRef = ref()\n\n  const showEmpty = computed(() => {\n    const noData = unref(data).length === 0\n\n    return isArray(props.fixedData)\n      ? props.fixedData.length === 0 && noData\n      : noData\n  })\n\n  function getRowHeight(rowIndex: number) {\n    const { estimatedRowHeight, rowHeight, rowKey } = props\n\n    if (!estimatedRowHeight) return rowHeight\n\n    return (\n      unref(rowHeights)[unref(data)[rowIndex][rowKey]] || estimatedRowHeight\n    )\n  }\n\n  const isEndReached = ref(false)\n  function onMaybeEndReached() {\n    const { onEndReached } = props\n    if (!onEndReached) return\n\n    const { scrollTop } = unref(scrollPos)\n\n    const _totalHeight = unref(rowsHeight)\n    const clientHeight = unref(windowHeight)\n\n    const remainDistance =\n      _totalHeight - (scrollTop + clientHeight) + props.hScrollbarSize\n\n    if (\n      !isEndReached.value &&\n      unref(lastRenderedRowIndex) >= 0 &&\n      _totalHeight <= scrollTop + unref(mainTableHeight) - unref(headerHeight)\n    ) {\n      isEndReached.value = true\n      onEndReached(remainDistance)\n    } else {\n      isEndReached.value = false\n    }\n  }\n\n  // events\n\n  watch(\n    () => unref(rowsHeight),\n    () => (isEndReached.value = false)\n  )\n\n  watch(\n    () => props.expandedRowKeys,\n    (val) => (expandedRowKeys.value = val),\n    {\n      deep: true,\n    }\n  )\n\n  return {\n    // models\n    columns,\n    containerRef,\n    mainTableRef,\n    leftTableRef,\n    rightTableRef,\n    // states\n    isDynamic,\n    isResetting,\n    isScrolling,\n    hasFixedColumns,\n    // records\n    columnsStyles,\n    columnsTotalWidth,\n    data,\n    expandedRowKeys,\n    depthMap,\n    fixedColumnsOnLeft,\n    fixedColumnsOnRight,\n    mainColumns,\n    // metadata\n    bodyWidth,\n    emptyStyle,\n    rootStyle,\n    headerWidth,\n    footerHeight,\n    mainTableHeight,\n    fixedTableHeight,\n    leftTableWidth,\n    rightTableWidth,\n    // flags\n    showEmpty,\n\n    // methods\n    getRowHeight,\n\n    // event handlers\n    onColumnSorted,\n    onRowHovered,\n    onRowExpanded,\n    onRowsRendered,\n    onRowHeightChange,\n    // use scrollbars\n    scrollTo,\n    scrollToLeft,\n    scrollToTop,\n    scrollToRow,\n    onScroll,\n    onVerticalScroll,\n  }\n}\n\nexport { useTable }\n\nexport type UseTableReturn = ReturnType<typeof useTable>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}