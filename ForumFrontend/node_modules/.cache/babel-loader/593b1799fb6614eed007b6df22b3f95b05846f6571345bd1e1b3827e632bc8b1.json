{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.error.to-string.js\");\nrequire(\"core-js/modules/es.date.to-string.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.string.match.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar tinycolor = require('@ctrl/tinycolor');\nvar useFormCommonProps = require('../../form/src/hooks/use-form-common-props.js');\nvar index = require('../../../hooks/use-namespace/index.js');\nfunction darken(color) {\n  var amount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n  return color.mix(\"#141414\", amount).toString();\n}\nfunction useButtonCustomStyle(props) {\n  var _disabled = useFormCommonProps.useFormDisabled();\n  var ns = index.useNamespace(\"button\");\n  return vue.computed(function () {\n    var styles = {};\n    var buttonColor = props.color;\n    if (buttonColor) {\n      var match = buttonColor.match(/var\\((.*?)\\)/);\n      if (match) {\n        buttonColor = window.getComputedStyle(window.document.documentElement).getPropertyValue(match[1]);\n      }\n      var color = new tinycolor.TinyColor(buttonColor);\n      var activeBgColor = props.dark ? color.tint(20).toString() : darken(color, 20);\n      if (props.plain) {\n        styles = ns.cssVarBlock({\n          \"bg-color\": props.dark ? darken(color, 90) : color.tint(90).toString(),\n          \"text-color\": buttonColor,\n          \"border-color\": props.dark ? darken(color, 50) : color.tint(50).toString(),\n          \"hover-text-color\": \"var(\".concat(ns.cssVarName(\"color-white\"), \")\"),\n          \"hover-bg-color\": buttonColor,\n          \"hover-border-color\": buttonColor,\n          \"active-bg-color\": activeBgColor,\n          \"active-text-color\": \"var(\".concat(ns.cssVarName(\"color-white\"), \")\"),\n          \"active-border-color\": activeBgColor\n        });\n        if (_disabled.value) {\n          styles[ns.cssVarBlockName(\"disabled-bg-color\")] = props.dark ? darken(color, 90) : color.tint(90).toString();\n          styles[ns.cssVarBlockName(\"disabled-text-color\")] = props.dark ? darken(color, 50) : color.tint(50).toString();\n          styles[ns.cssVarBlockName(\"disabled-border-color\")] = props.dark ? darken(color, 80) : color.tint(80).toString();\n        }\n      } else {\n        var hoverBgColor = props.dark ? darken(color, 30) : color.tint(30).toString();\n        var textColor = color.isDark() ? \"var(\".concat(ns.cssVarName(\"color-white\"), \")\") : \"var(\".concat(ns.cssVarName(\"color-black\"), \")\");\n        styles = ns.cssVarBlock({\n          \"bg-color\": buttonColor,\n          \"text-color\": textColor,\n          \"border-color\": buttonColor,\n          \"hover-bg-color\": hoverBgColor,\n          \"hover-text-color\": textColor,\n          \"hover-border-color\": hoverBgColor,\n          \"active-bg-color\": activeBgColor,\n          \"active-border-color\": activeBgColor\n        });\n        if (_disabled.value) {\n          var disabledButtonColor = props.dark ? darken(color, 50) : color.tint(50).toString();\n          styles[ns.cssVarBlockName(\"disabled-bg-color\")] = disabledButtonColor;\n          styles[ns.cssVarBlockName(\"disabled-text-color\")] = props.dark ? \"rgba(255, 255, 255, 0.5)\" : \"var(\".concat(ns.cssVarName(\"color-white\"), \")\");\n          styles[ns.cssVarBlockName(\"disabled-border-color\")] = disabledButtonColor;\n        }\n      }\n    }\n    return styles;\n  });\n}\nexports.darken = darken;\nexports.useButtonCustomStyle = useButtonCustomStyle;","map":{"version":3,"names":["darken","color","amount","arguments","length","undefined","mix","toString","useButtonCustomStyle","props","_disabled","useFormCommonProps","useFormDisabled","ns","index","useNamespace","vue","computed","styles","buttonColor","match","window","getComputedStyle","document","documentElement","getPropertyValue","tinycolor","TinyColor","activeBgColor","dark","tint","plain","cssVarBlock","concat","cssVarName","value","cssVarBlockName","hoverBgColor","textColor","isDark","disabledButtonColor"],"sources":["../../../../../../packages/components/button/src/button-custom.ts"],"sourcesContent":["import { computed } from 'vue'\nimport { TinyColor } from '@ctrl/tinycolor'\nimport { useNamespace } from '@element-plus/hooks'\nimport { useFormDisabled } from '@element-plus/components/form'\nimport type { ButtonProps } from './button'\n\nexport function darken(color: TinyColor, amount = 20) {\n  return color.mix('#141414', amount).toString()\n}\n\nexport function useButtonCustomStyle(props: ButtonProps) {\n  const _disabled = useFormDisabled()\n  const ns = useNamespace('button')\n\n  // calculate hover & active color by custom color\n  // only work when custom color\n  return computed(() => {\n    let styles: Record<string, string> = {}\n\n    let buttonColor = props.color\n\n    if (buttonColor) {\n      const match = (buttonColor as string).match(/var\\((.*?)\\)/)\n      if (match) {\n        buttonColor = window\n          .getComputedStyle(window.document.documentElement)\n          .getPropertyValue(match[1])\n      }\n      const color = new TinyColor(buttonColor)\n      const activeBgColor = props.dark\n        ? color.tint(20).toString()\n        : darken(color, 20)\n\n      if (props.plain) {\n        styles = ns.cssVarBlock({\n          'bg-color': props.dark\n            ? darken(color, 90)\n            : color.tint(90).toString(),\n          'text-color': buttonColor,\n          'border-color': props.dark\n            ? darken(color, 50)\n            : color.tint(50).toString(),\n          'hover-text-color': `var(${ns.cssVarName('color-white')})`,\n          'hover-bg-color': buttonColor,\n          'hover-border-color': buttonColor,\n          'active-bg-color': activeBgColor,\n          'active-text-color': `var(${ns.cssVarName('color-white')})`,\n          'active-border-color': activeBgColor,\n        })\n\n        if (_disabled.value) {\n          styles[ns.cssVarBlockName('disabled-bg-color')] = props.dark\n            ? darken(color, 90)\n            : color.tint(90).toString()\n          styles[ns.cssVarBlockName('disabled-text-color')] = props.dark\n            ? darken(color, 50)\n            : color.tint(50).toString()\n          styles[ns.cssVarBlockName('disabled-border-color')] = props.dark\n            ? darken(color, 80)\n            : color.tint(80).toString()\n        }\n      } else {\n        const hoverBgColor = props.dark\n          ? darken(color, 30)\n          : color.tint(30).toString()\n        const textColor = color.isDark()\n          ? `var(${ns.cssVarName('color-white')})`\n          : `var(${ns.cssVarName('color-black')})`\n        styles = ns.cssVarBlock({\n          'bg-color': buttonColor,\n          'text-color': textColor,\n          'border-color': buttonColor,\n          'hover-bg-color': hoverBgColor,\n          'hover-text-color': textColor,\n          'hover-border-color': hoverBgColor,\n          'active-bg-color': activeBgColor,\n          'active-border-color': activeBgColor,\n        })\n\n        if (_disabled.value) {\n          const disabledButtonColor = props.dark\n            ? darken(color, 50)\n            : color.tint(50).toString()\n          styles[ns.cssVarBlockName('disabled-bg-color')] = disabledButtonColor\n          styles[ns.cssVarBlockName('disabled-text-color')] = props.dark\n            ? 'rgba(255, 255, 255, 0.5)'\n            : `var(${ns.cssVarName('color-white')})`\n          styles[ns.cssVarBlockName('disabled-border-color')] =\n            disabledButtonColor\n        }\n      }\n    }\n\n    return styles\n  })\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}