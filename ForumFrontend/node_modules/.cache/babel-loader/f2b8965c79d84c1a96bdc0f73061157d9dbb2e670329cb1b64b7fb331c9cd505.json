{"ast":null,"code":"import _regeneratorRuntime from \"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { getNotifications, markNotificationRead, markAllNotificationsRead } from '@/api/notifications';\nvar state = {\n  notifications: [],\n  unreadCount: 0,\n  loading: false,\n  hasMore: true,\n  currentPage: 1,\n  pageSize: 10\n};\nvar getters = {\n  allNotifications: function allNotifications(state) {\n    return state.notifications;\n  },\n  unreadNotifications: function unreadNotifications(state) {\n    return state.notifications.filter(function (n) {\n      return !n.is_read;\n    });\n  },\n  hasUnreadNotifications: function hasUnreadNotifications(state) {\n    return state.unreadCount > 0;\n  }\n};\nvar mutations = {\n  setNotifications: function setNotifications(state, notifications) {\n    state.notifications = notifications;\n  },\n  addNotification: function addNotification(state, notification) {\n    // 避免重复添加\n    var exists = state.notifications.some(function (n) {\n      return n.id === notification.id;\n    });\n    if (!exists) {\n      state.notifications.unshift(notification);\n    }\n  },\n  setUnreadCount: function setUnreadCount(state, count) {\n    state.unreadCount = count;\n  },\n  incrementUnreadCount: function incrementUnreadCount(state) {\n    state.unreadCount++;\n  },\n  markAsRead: function markAsRead(state, notificationId) {\n    var notification = state.notifications.find(function (n) {\n      return n.id === notificationId;\n    });\n    if (notification && !notification.is_read) {\n      notification.is_read = true;\n      state.unreadCount = Math.max(0, state.unreadCount - 1);\n    }\n  },\n  markAllAsRead: function markAllAsRead(state) {\n    state.notifications.forEach(function (notification) {\n      notification.is_read = true;\n    });\n    state.unreadCount = 0;\n  },\n  setLoading: function setLoading(state, status) {\n    state.loading = status;\n  },\n  setHasMore: function setHasMore(state, status) {\n    state.hasMore = status;\n  },\n  setCurrentPage: function setCurrentPage(state, page) {\n    state.currentPage = page;\n  }\n};\nvar actions = {\n  fetchNotifications: function fetchNotifications(_ref) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var commit, state, response, data, results, count, newNotifications;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            commit = _ref.commit, state = _ref.state;\n            commit('setLoading', true);\n            _context.prev = 2;\n            _context.next = 5;\n            return getNotifications({\n              page: state.currentPage,\n              page_size: state.pageSize\n            });\n          case 5:\n            response = _context.sent;\n            if (response) {\n              _context.next = 11;\n              break;\n            }\n            console.warn('通知API返回空响应');\n            commit('setNotifications', []);\n            commit('setUnreadCount', 0);\n            return _context.abrupt(\"return\");\n          case 11:\n            // 兼容不同的响应格式\n            data = null;\n            if (response.data !== undefined) {\n              // 标准格式: { data: {...} }\n              data = response.data;\n            } else if (response.results !== undefined || Array.isArray(response)) {\n              // 直接返回结果数组或带results的对象\n              data = response;\n            } else {\n              console.warn('通知API响应格式不符合预期:', response);\n              data = {\n                results: [],\n                count: 0\n              };\n            }\n\n            // 提取结果数组和计数\n            results = [];\n            count = 0;\n            if (Array.isArray(data)) {\n              // 如果直接是数组\n              results = data;\n              count = data.filter(function (item) {\n                return !item.is_read;\n              }).length;\n            } else if (data.results !== undefined) {\n              // 标准分页格式\n              results = Array.isArray(data.results) ? data.results : [];\n              count = data.count !== undefined ? data.count : results.length;\n            } else if (data.notifications !== undefined) {\n              // 某些API可能用notifications字段\n              results = Array.isArray(data.notifications) ? data.notifications : [];\n              count = data.unread_count !== undefined ? data.unread_count : results.filter(function (item) {\n                return !item.is_read;\n              }).length;\n            }\n            if (state.currentPage === 1) {\n              commit('setNotifications', results);\n            } else {\n              // 合并通知列表，避免重复\n              newNotifications = _toConsumableArray(state.notifications);\n              results.forEach(function (notification) {\n                if (!newNotifications.some(function (n) {\n                  return n.id === notification.id;\n                })) {\n                  newNotifications.push(notification);\n                }\n              });\n              commit('setNotifications', newNotifications);\n            }\n\n            // 更新分页信息\n            commit('setHasMore', results.length > 0 && state.currentPage * state.pageSize < count);\n            commit('setUnreadCount', count);\n            _context.next = 27;\n            break;\n          case 21:\n            _context.prev = 21;\n            _context.t0 = _context[\"catch\"](2);\n            console.error('获取通知失败:', _context.t0);\n            // 如果是网络错误，设置合适的状态\n            commit('setNotifications', []);\n            commit('setUnreadCount', 0);\n            commit('setHasMore', false);\n          case 27:\n            _context.prev = 27;\n            commit('setLoading', false);\n            return _context.finish(27);\n          case 30:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[2, 21, 27, 30]]);\n    }))();\n  },\n  loadMoreNotifications: function loadMoreNotifications(_ref2) {\n    var _this = this;\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var commit, state;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            commit = _ref2.commit, state = _ref2.state;\n            if (!(!state.hasMore || state.loading)) {\n              _context2.next = 3;\n              break;\n            }\n            return _context2.abrupt(\"return\");\n          case 3:\n            commit('setCurrentPage', state.currentPage + 1);\n            _context2.next = 6;\n            return _this.dispatch('notifications/fetchNotifications');\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  },\n  markAsRead: function markAsRead(_ref3, notificationId) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n      var commit, response;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            commit = _ref3.commit;\n            _context3.prev = 1;\n            _context3.next = 4;\n            return markNotificationRead(notificationId);\n          case 4:\n            response = _context3.sent;\n            // 兼容不同的响应格式\n            if (response) {\n              commit('markAsRead', notificationId);\n            }\n            _context3.next = 12;\n            break;\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](1);\n            console.error('标记通知已读失败:', _context3.t0);\n            // 如果是网络错误，可以选择乐观更新\n            if (_context3.t0.message === 'Network Error') {\n              commit('markAsRead', notificationId);\n            }\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3, null, [[1, 8]]);\n    }))();\n  },\n  markAllAsRead: function markAllAsRead(_ref4) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n      var commit, response;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            commit = _ref4.commit;\n            _context4.prev = 1;\n            _context4.next = 4;\n            return markAllNotificationsRead();\n          case 4:\n            response = _context4.sent;\n            // 兼容不同的响应格式\n            if (response) {\n              commit('markAllAsRead');\n            }\n            _context4.next = 12;\n            break;\n          case 8:\n            _context4.prev = 8;\n            _context4.t0 = _context4[\"catch\"](1);\n            console.error('标记所有通知已读失败:', _context4.t0);\n            // 如果是网络错误，可以选择乐观更新\n            if (_context4.t0.message === 'Network Error') {\n              commit('markAllAsRead');\n            }\n          case 12:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4, null, [[1, 8]]);\n    }))();\n  }\n};\nexport default {\n  namespaced: true,\n  state: state,\n  getters: getters,\n  mutations: mutations,\n  actions: actions\n};","map":{"version":3,"names":["getNotifications","markNotificationRead","markAllNotificationsRead","state","notifications","unreadCount","loading","hasMore","currentPage","pageSize","getters","allNotifications","unreadNotifications","filter","n","is_read","hasUnreadNotifications","mutations","setNotifications","addNotification","notification","exists","some","id","unshift","setUnreadCount","count","incrementUnreadCount","markAsRead","notificationId","find","Math","max","markAllAsRead","forEach","setLoading","status","setHasMore","setCurrentPage","page","actions","fetchNotifications","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","response","data","results","newNotifications","wrap","_callee$","_context","prev","next","page_size","sent","console","warn","abrupt","undefined","Array","isArray","item","length","unread_count","_toConsumableArray","push","t0","error","finish","stop","loadMoreNotifications","_ref2","_this","_callee2","_callee2$","_context2","dispatch","_ref3","_callee3","_callee3$","_context3","message","_ref4","_callee4","_callee4$","_context4","namespaced"],"sources":["H:/ForumServers/ForumFrontend/src/store/modules/notifications.js"],"sourcesContent":["import { getNotifications, markNotificationRead, markAllNotificationsRead } from '@/api/notifications';\r\n\r\nconst state = {\r\n  notifications: [],\r\n  unreadCount: 0,\r\n  loading: false,\r\n  hasMore: true,\r\n  currentPage: 1,\r\n  pageSize: 10\r\n};\r\n\r\nconst getters = {\r\n  allNotifications: state => state.notifications,\r\n  unreadNotifications: state => state.notifications.filter(n => !n.is_read),\r\n  hasUnreadNotifications: state => state.unreadCount > 0\r\n};\r\n\r\nconst mutations = {\r\n  setNotifications(state, notifications) {\r\n    state.notifications = notifications;\r\n  },\r\n  \r\n  addNotification(state, notification) {\r\n    // 避免重复添加\r\n    const exists = state.notifications.some(n => n.id === notification.id);\r\n    if (!exists) {\r\n      state.notifications.unshift(notification);\r\n    }\r\n  },\r\n  \r\n  setUnreadCount(state, count) {\r\n    state.unreadCount = count;\r\n  },\r\n  \r\n  incrementUnreadCount(state) {\r\n    state.unreadCount++;\r\n  },\r\n  \r\n  markAsRead(state, notificationId) {\r\n    const notification = state.notifications.find(n => n.id === notificationId);\r\n    if (notification && !notification.is_read) {\r\n      notification.is_read = true;\r\n      state.unreadCount = Math.max(0, state.unreadCount - 1);\r\n    }\r\n  },\r\n  \r\n  markAllAsRead(state) {\r\n    state.notifications.forEach(notification => {\r\n      notification.is_read = true;\r\n    });\r\n    state.unreadCount = 0;\r\n  },\r\n  \r\n  setLoading(state, status) {\r\n    state.loading = status;\r\n  },\r\n  \r\n  setHasMore(state, status) {\r\n    state.hasMore = status;\r\n  },\r\n  \r\n  setCurrentPage(state, page) {\r\n    state.currentPage = page;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  async fetchNotifications({ commit, state }) {\r\n    commit('setLoading', true);\r\n    try {\r\n      const response = await getNotifications({\r\n        page: state.currentPage,\r\n        page_size: state.pageSize\r\n      });\r\n      \r\n      // 检查响应格式\r\n      if (!response) {\r\n        console.warn('通知API返回空响应');\r\n        commit('setNotifications', []);\r\n        commit('setUnreadCount', 0);\r\n        return;\r\n      }\r\n      \r\n      // 兼容不同的响应格式\r\n      let data = null;\r\n      \r\n      if (response.data !== undefined) {\r\n        // 标准格式: { data: {...} }\r\n        data = response.data;\r\n      } else if (response.results !== undefined || Array.isArray(response)) {\r\n        // 直接返回结果数组或带results的对象\r\n        data = response;\r\n      } else {\r\n        console.warn('通知API响应格式不符合预期:', response);\r\n        data = { results: [], count: 0 };\r\n      }\r\n      \r\n      // 提取结果数组和计数\r\n      let results = [];\r\n      let count = 0;\r\n      \r\n      if (Array.isArray(data)) {\r\n        // 如果直接是数组\r\n        results = data;\r\n        count = data.filter(item => !item.is_read).length;\r\n      } else if (data.results !== undefined) {\r\n        // 标准分页格式\r\n        results = Array.isArray(data.results) ? data.results : [];\r\n        count = data.count !== undefined ? data.count : results.length;\r\n      } else if (data.notifications !== undefined) {\r\n        // 某些API可能用notifications字段\r\n        results = Array.isArray(data.notifications) ? data.notifications : [];\r\n        count = data.unread_count !== undefined ? data.unread_count : \r\n               results.filter(item => !item.is_read).length;\r\n      }\r\n      \r\n      if (state.currentPage === 1) {\r\n        commit('setNotifications', results);\r\n      } else {\r\n        // 合并通知列表，避免重复\r\n        const newNotifications = [...state.notifications];\r\n        results.forEach(notification => {\r\n          if (!newNotifications.some(n => n.id === notification.id)) {\r\n            newNotifications.push(notification);\r\n          }\r\n        });\r\n        commit('setNotifications', newNotifications);\r\n      }\r\n      \r\n      // 更新分页信息\r\n      commit('setHasMore', results.length > 0 && state.currentPage * state.pageSize < count);\r\n      commit('setUnreadCount', count);\r\n    } catch (error) {\r\n      console.error('获取通知失败:', error);\r\n      // 如果是网络错误，设置合适的状态\r\n      commit('setNotifications', []);\r\n      commit('setUnreadCount', 0);\r\n      commit('setHasMore', false);\r\n    } finally {\r\n      commit('setLoading', false);\r\n    }\r\n  },\r\n  \r\n  async loadMoreNotifications({ commit, state }) {\r\n    if (!state.hasMore || state.loading) return;\r\n    \r\n    commit('setCurrentPage', state.currentPage + 1);\r\n    await this.dispatch('notifications/fetchNotifications');\r\n  },\r\n  \r\n  async markAsRead({ commit }, notificationId) {\r\n    try {\r\n      const response = await markNotificationRead(notificationId);\r\n      // 兼容不同的响应格式\r\n      if (response) {\r\n        commit('markAsRead', notificationId);\r\n      }\r\n    } catch (error) {\r\n      console.error('标记通知已读失败:', error);\r\n      // 如果是网络错误，可以选择乐观更新\r\n      if (error.message === 'Network Error') {\r\n        commit('markAsRead', notificationId);\r\n      }\r\n    }\r\n  },\r\n  \r\n  async markAllAsRead({ commit }) {\r\n    try {\r\n      const response = await markAllNotificationsRead();\r\n      // 兼容不同的响应格式\r\n      if (response) {\r\n        commit('markAllAsRead');\r\n      }\r\n    } catch (error) {\r\n      console.error('标记所有通知已读失败:', error);\r\n      // 如果是网络错误，可以选择乐观更新\r\n      if (error.message === 'Network Error') {\r\n        commit('markAllAsRead');\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}