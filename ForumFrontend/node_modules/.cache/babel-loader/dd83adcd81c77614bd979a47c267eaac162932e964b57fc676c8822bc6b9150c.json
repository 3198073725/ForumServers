{"ast":null,"code":"'use strict';\n\nvar _objectSpread = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/objectSpread2.js\")[\"default\"];\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar pluginVue_exportHelper = require('../../../_virtual/plugin-vue_export-helper.js');\nvar index = require('../../../hooks/use-namespace/index.js');\nvar __default__ = vue.defineComponent({\n  name: \"ElCollapseTransition\"\n});\nvar _sfc_main = /* @__PURE__ */vue.defineComponent(_objectSpread(_objectSpread({}, __default__), {}, {\n  setup: function setup(__props) {\n    var ns = index.useNamespace(\"collapse-transition\");\n    var reset = function reset(el) {\n      el.style.maxHeight = \"\";\n      el.style.overflow = el.dataset.oldOverflow;\n      el.style.paddingTop = el.dataset.oldPaddingTop;\n      el.style.paddingBottom = el.dataset.oldPaddingBottom;\n    };\n    var on = {\n      beforeEnter: function beforeEnter(el) {\n        if (!el.dataset) el.dataset = {};\n        el.dataset.oldPaddingTop = el.style.paddingTop;\n        el.dataset.oldPaddingBottom = el.style.paddingBottom;\n        if (el.style.height) el.dataset.elExistsHeight = el.style.height;\n        el.style.maxHeight = 0;\n        el.style.paddingTop = 0;\n        el.style.paddingBottom = 0;\n      },\n      enter: function enter(el) {\n        requestAnimationFrame(function () {\n          el.dataset.oldOverflow = el.style.overflow;\n          if (el.dataset.elExistsHeight) {\n            el.style.maxHeight = el.dataset.elExistsHeight;\n          } else if (el.scrollHeight !== 0) {\n            el.style.maxHeight = \"\".concat(el.scrollHeight, \"px\");\n          } else {\n            el.style.maxHeight = 0;\n          }\n          el.style.paddingTop = el.dataset.oldPaddingTop;\n          el.style.paddingBottom = el.dataset.oldPaddingBottom;\n          el.style.overflow = \"hidden\";\n        });\n      },\n      afterEnter: function afterEnter(el) {\n        el.style.maxHeight = \"\";\n        el.style.overflow = el.dataset.oldOverflow;\n      },\n      enterCancelled: function enterCancelled(el) {\n        reset(el);\n      },\n      beforeLeave: function beforeLeave(el) {\n        if (!el.dataset) el.dataset = {};\n        el.dataset.oldPaddingTop = el.style.paddingTop;\n        el.dataset.oldPaddingBottom = el.style.paddingBottom;\n        el.dataset.oldOverflow = el.style.overflow;\n        el.style.maxHeight = \"\".concat(el.scrollHeight, \"px\");\n        el.style.overflow = \"hidden\";\n      },\n      leave: function leave(el) {\n        if (el.scrollHeight !== 0) {\n          el.style.maxHeight = 0;\n          el.style.paddingTop = 0;\n          el.style.paddingBottom = 0;\n        }\n      },\n      afterLeave: function afterLeave(el) {\n        reset(el);\n      },\n      leaveCancelled: function leaveCancelled(el) {\n        reset(el);\n      }\n    };\n    return function (_ctx, _cache) {\n      return vue.openBlock(), vue.createBlock(vue.Transition, vue.mergeProps({\n        name: vue.unref(ns).b()\n      }, vue.toHandlers(on)), {\n        \"default\": vue.withCtx(function () {\n          return [vue.renderSlot(_ctx.$slots, \"default\")];\n        }),\n        _: 3\n      }, 16, [\"name\"]);\n    };\n  }\n}));\nvar CollapseTransition = /* @__PURE__ */pluginVue_exportHelper[\"default\"](_sfc_main, [[\"__file\", \"collapse-transition.vue\"]]);\nexports[\"default\"] = CollapseTransition;","map":{"version":3,"names":["name","ns","index","useNamespace","reset","el","style","maxHeight","overflow","dataset","oldOverflow","paddingTop","oldPaddingTop","paddingBottom","oldPaddingBottom","on","beforeEnter","height","elExistsHeight","enter","requestAnimationFrame","scrollHeight","concat","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled"],"sources":["../../../../../../packages/components/collapse-transition/src/collapse-transition.vue"],"sourcesContent":["<template>\n  <transition :name=\"ns.b()\" v-on=\"on\">\n    <slot />\n  </transition>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useNamespace } from '@element-plus/hooks'\nimport type { RendererElement } from 'vue'\n\ndefineOptions({\n  name: 'ElCollapseTransition',\n})\n\nconst ns = useNamespace('collapse-transition')\n\nconst reset = (el: RendererElement) => {\n  el.style.maxHeight = ''\n  el.style.overflow = el.dataset.oldOverflow\n  el.style.paddingTop = el.dataset.oldPaddingTop\n  el.style.paddingBottom = el.dataset.oldPaddingBottom\n}\n\nconst on = {\n  beforeEnter(el: RendererElement) {\n    if (!el.dataset) el.dataset = {}\n\n    el.dataset.oldPaddingTop = el.style.paddingTop\n    el.dataset.oldPaddingBottom = el.style.paddingBottom\n    if (el.style.height) el.dataset.elExistsHeight = el.style.height\n\n    el.style.maxHeight = 0\n    el.style.paddingTop = 0\n    el.style.paddingBottom = 0\n  },\n\n  enter(el: RendererElement) {\n    requestAnimationFrame(() => {\n      el.dataset.oldOverflow = el.style.overflow\n      if (el.dataset.elExistsHeight) {\n        el.style.maxHeight = el.dataset.elExistsHeight\n      } else if (el.scrollHeight !== 0) {\n        el.style.maxHeight = `${el.scrollHeight}px`\n      } else {\n        el.style.maxHeight = 0\n      }\n\n      el.style.paddingTop = el.dataset.oldPaddingTop\n      el.style.paddingBottom = el.dataset.oldPaddingBottom\n      el.style.overflow = 'hidden'\n    })\n  },\n\n  afterEnter(el: RendererElement) {\n    el.style.maxHeight = ''\n    el.style.overflow = el.dataset.oldOverflow\n  },\n\n  enterCancelled(el: RendererElement) {\n    reset(el)\n  },\n\n  beforeLeave(el: RendererElement) {\n    if (!el.dataset) el.dataset = {}\n    el.dataset.oldPaddingTop = el.style.paddingTop\n    el.dataset.oldPaddingBottom = el.style.paddingBottom\n    el.dataset.oldOverflow = el.style.overflow\n\n    el.style.maxHeight = `${el.scrollHeight}px`\n    el.style.overflow = 'hidden'\n  },\n\n  leave(el: RendererElement) {\n    if (el.scrollHeight !== 0) {\n      el.style.maxHeight = 0\n      el.style.paddingTop = 0\n      el.style.paddingBottom = 0\n    }\n  },\n\n  afterLeave(el: RendererElement) {\n    reset(el)\n  },\n\n  leaveCancelled(el: RendererElement) {\n    reset(el)\n  },\n}\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}