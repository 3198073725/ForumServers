{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport { useRouter } from 'vue-router';\nexport default {\n  name: 'BackButton',\n  props: {\n    type: {\n      type: String,\n      \"default\": 'default'\n    },\n    size: {\n      type: String,\n      \"default\": 'default'\n    },\n    // 可选的回退步数\n    steps: {\n      type: Number,\n      \"default\": 1\n    },\n    // 可选的默认回退路径，如果无法回退则跳转到此路径\n    fallbackPath: {\n      type: String,\n      \"default\": '/'\n    }\n  },\n  setup: function setup(props) {\n    var router = useRouter();\n    var goBack = function goBack() {\n      // 尝试使用window.history.length判断是否可以回退\n      if (window.history.length > 1) {\n        router.go(-props.steps);\n      } else {\n        // 如果无法回退，则跳转到默认路径\n        router.push(props.fallbackPath);\n      }\n    };\n    return {\n      goBack: goBack\n    };\n  }\n};","map":{"version":3,"names":["useRouter","name","props","type","String","size","steps","Number","fallbackPath","setup","router","goBack","window","history","length","go","push"],"sources":["H:\\ForumServers\\ForumFrontend\\src\\components\\BackButton.vue"],"sourcesContent":["<template>\n  <el-button :type=\"type\" :size=\"size\" @click=\"goBack\">\n    <slot>返回</slot>\n  </el-button>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router'\n\nexport default {\n  name: 'BackButton',\n  props: {\n    type: {\n      type: String,\n      default: 'default'\n    },\n    size: {\n      type: String,\n      default: 'default'\n    },\n    // 可选的回退步数\n    steps: {\n      type: Number,\n      default: 1\n    },\n    // 可选的默认回退路径，如果无法回退则跳转到此路径\n    fallbackPath: {\n      type: String,\n      default: '/'\n    }\n  },\n  setup(props) {\n    const router = useRouter()\n\n    const goBack = () => {\n      // 尝试使用window.history.length判断是否可以回退\n      if (window.history.length > 1) {\n        router.go(-props.steps)\n      } else {\n        // 如果无法回退，则跳转到默认路径\n        router.push(props.fallbackPath)\n      }\n    }\n\n    return {\n      goBack\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 可以添加自定义样式 */\n</style>\n"],"mappings":";;AAOA,SAASA,SAAQ,QAAS,YAAW;AAErC,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJA,IAAI,EAAEC,MAAM;MACZ,WAAS;IACX,CAAC;IACDC,IAAI,EAAE;MACJF,IAAI,EAAEC,MAAM;MACZ,WAAS;IACX,CAAC;IACD;IACAE,KAAK,EAAE;MACLH,IAAI,EAAEI,MAAM;MACZ,WAAS;IACX,CAAC;IACD;IACAC,YAAY,EAAE;MACZL,IAAI,EAAEC,MAAM;MACZ,WAAS;IACX;EACF,CAAC;EACDK,KAAK,WAALA,KAAKA,CAACP,KAAK,EAAE;IACX,IAAMQ,MAAK,GAAIV,SAAS,CAAC;IAEzB,IAAMW,MAAK,GAAI,SAATA,MAAKA,CAAA,EAAU;MACnB;MACA,IAAIC,MAAM,CAACC,OAAO,CAACC,MAAK,GAAI,CAAC,EAAE;QAC7BJ,MAAM,CAACK,EAAE,CAAC,CAACb,KAAK,CAACI,KAAK;MACxB,OAAO;QACL;QACAI,MAAM,CAACM,IAAI,CAACd,KAAK,CAACM,YAAY;MAChC;IACF;IAEA,OAAO;MACLG,MAAK,EAALA;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}