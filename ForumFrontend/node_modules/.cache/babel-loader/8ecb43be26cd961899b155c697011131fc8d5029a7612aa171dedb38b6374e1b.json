{"ast":null,"code":"import request from '@/utils/request';\n\n/**\r\n * 获取对话列表\r\n * @returns {Promise} - 请求Promise\r\n */\nexport function getConversations() {\n  return request({\n    url: '/api/v1/user-notifications/messages/conversations/',\n    method: 'get'\n  });\n}\n\n/**\r\n * 获取与特定用户的消息历史\r\n * @param {number} userId - 用户ID\r\n * @param {number} page - 页码\r\n * @param {number} pageSize - 每页大小\r\n * @returns {Promise} - 请求Promise\r\n */\nexport function getMessagesWithUser(userId) {\n  var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var pageSize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 20;\n  return request({\n    url: '/api/v1/user-notifications/messages/with_user/',\n    method: 'get',\n    params: {\n      user_id: userId,\n      page: page,\n      page_size: pageSize\n    }\n  });\n}\n\n/**\r\n * 发送私信\r\n * @param {number} receiverId - 接收者ID\r\n * @param {string} content - 消息内容\r\n * @returns {Promise} - 请求Promise\r\n */\nexport function sendMessage(receiverId, content) {\n  return request({\n    url: '/api/v1/user-notifications/messages/send/',\n    method: 'post',\n    data: {\n      receiver_id: receiverId,\n      content: content\n    }\n  });\n}\n\n/**\r\n * 标记与特定用户的所有消息为已读\r\n * @param {number} userId - 用户ID\r\n * @returns {Promise} - 请求Promise\r\n */\nexport function markMessagesAsRead(userId) {\n  return request({\n    url: '/api/v1/user-notifications/messages/mark_read/',\n    method: 'post',\n    data: {\n      user_id: userId\n    }\n  });\n}","map":{"version":3,"names":["request","getConversations","url","method","getMessagesWithUser","userId","page","arguments","length","undefined","pageSize","params","user_id","page_size","sendMessage","receiverId","content","data","receiver_id","markMessagesAsRead"],"sources":["H:/ForumServers/ForumFrontend/src/api/messages.js"],"sourcesContent":["import request from '@/utils/request';\r\n\r\n/**\r\n * 获取对话列表\r\n * @returns {Promise} - 请求Promise\r\n */\r\nexport function getConversations() {\r\n  return request({\r\n    url: '/api/v1/user-notifications/messages/conversations/',\r\n    method: 'get'\r\n  });\r\n}\r\n\r\n/**\r\n * 获取与特定用户的消息历史\r\n * @param {number} userId - 用户ID\r\n * @param {number} page - 页码\r\n * @param {number} pageSize - 每页大小\r\n * @returns {Promise} - 请求Promise\r\n */\r\nexport function getMessagesWithUser(userId, page = 1, pageSize = 20) {\r\n  return request({\r\n    url: '/api/v1/user-notifications/messages/with_user/',\r\n    method: 'get',\r\n    params: {\r\n      user_id: userId,\r\n      page,\r\n      page_size: pageSize\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * 发送私信\r\n * @param {number} receiverId - 接收者ID\r\n * @param {string} content - 消息内容\r\n * @returns {Promise} - 请求Promise\r\n */\r\nexport function sendMessage(receiverId, content) {\r\n  return request({\r\n    url: '/api/v1/user-notifications/messages/send/',\r\n    method: 'post',\r\n    data: {\r\n      receiver_id: receiverId,\r\n      content\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * 标记与特定用户的所有消息为已读\r\n * @param {number} userId - 用户ID\r\n * @returns {Promise} - 请求Promise\r\n */\r\nexport function markMessagesAsRead(userId) {\r\n  return request({\r\n    url: '/api/v1/user-notifications/messages/mark_read/',\r\n    method: 'post',\r\n    data: {\r\n      user_id: userId\r\n    }\r\n  });\r\n} "],"mappings":"AAAA,OAAOA,OAAO,MAAM,iBAAiB;;AAErC;AACA;AACA;AACA;AACA,OAAO,SAASC,gBAAgBA,CAAA,EAAG;EACjC,OAAOD,OAAO,CAAC;IACbE,GAAG,EAAE,oDAAoD;IACzDC,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,mBAAmBA,CAACC,MAAM,EAA2B;EAAA,IAAzBC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAAA,IAAEG,QAAQ,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EACjE,OAAOP,OAAO,CAAC;IACbE,GAAG,EAAE,gDAAgD;IACrDC,MAAM,EAAE,KAAK;IACbQ,MAAM,EAAE;MACNC,OAAO,EAAEP,MAAM;MACfC,IAAI,EAAJA,IAAI;MACJO,SAAS,EAAEH;IACb;EACF,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASI,WAAWA,CAACC,UAAU,EAAEC,OAAO,EAAE;EAC/C,OAAOhB,OAAO,CAAC;IACbE,GAAG,EAAE,2CAA2C;IAChDC,MAAM,EAAE,MAAM;IACdc,IAAI,EAAE;MACJC,WAAW,EAAEH,UAAU;MACvBC,OAAO,EAAPA;IACF;EACF,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASG,kBAAkBA,CAACd,MAAM,EAAE;EACzC,OAAOL,OAAO,CAAC;IACbE,GAAG,EAAE,gDAAgD;IACrDC,MAAM,EAAE,MAAM;IACdc,IAAI,EAAE;MACJL,OAAO,EAAEP;IACX;EACF,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}