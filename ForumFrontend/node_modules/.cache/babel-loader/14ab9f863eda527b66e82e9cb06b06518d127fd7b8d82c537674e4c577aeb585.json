{"ast":null,"code":"'use strict';\n\nvar _objectSpread = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/objectSpread2.js\")[\"default\"];\nvar _defineProperty = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/defineProperty.js\")[\"default\"];\nrequire(\"core-js/modules/es.error.to-string.js\");\nrequire(\"core-js/modules/es.array.includes.js\");\nrequire(\"core-js/modules/es.date.to-string.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.string.includes.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar utils = require('../utils.js');\nvar row = require('../components/row.js');\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !vue.isVNode(s);\n}\nvar RowRenderer = function RowRenderer(props, _ref) {\n  var slots = _ref.slots;\n  var columns = props.columns,\n    columnsStyles = props.columnsStyles,\n    depthMap = props.depthMap,\n    expandColumnKey = props.expandColumnKey,\n    expandedRowKeys = props.expandedRowKeys,\n    estimatedRowHeight = props.estimatedRowHeight,\n    hasFixedColumns = props.hasFixedColumns,\n    rowData = props.rowData,\n    rowIndex = props.rowIndex,\n    style = props.style,\n    isScrolling = props.isScrolling,\n    rowProps = props.rowProps,\n    rowClass = props.rowClass,\n    rowKey = props.rowKey,\n    rowEventHandlers = props.rowEventHandlers,\n    ns = props.ns,\n    onRowHovered = props.onRowHovered,\n    onRowExpanded = props.onRowExpanded;\n  var rowKls = utils.tryCall(rowClass, {\n    columns: columns,\n    rowData: rowData,\n    rowIndex: rowIndex\n  }, \"\");\n  var additionalProps = utils.tryCall(rowProps, {\n    columns: columns,\n    rowData: rowData,\n    rowIndex: rowIndex\n  });\n  var _rowKey = rowData[rowKey];\n  var depth = depthMap[_rowKey] || 0;\n  var canExpand = Boolean(expandColumnKey);\n  var isFixedRow = rowIndex < 0;\n  var kls = [ns.e(\"row\"), rowKls, _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, ns.e(\"row-depth-\".concat(depth)), canExpand && rowIndex >= 0), ns.is(\"expanded\"), canExpand && expandedRowKeys.includes(_rowKey)), ns.is(\"fixed\"), !depth && isFixedRow), ns.is(\"customized\"), Boolean(slots.row))];\n  var onRowHover = hasFixedColumns ? onRowHovered : void 0;\n  var _rowProps = _objectSpread(_objectSpread({}, additionalProps), {}, {\n    columns: columns,\n    columnsStyles: columnsStyles,\n    \"class\": kls,\n    depth: depth,\n    expandColumnKey: expandColumnKey,\n    estimatedRowHeight: isFixedRow ? void 0 : estimatedRowHeight,\n    isScrolling: isScrolling,\n    rowIndex: rowIndex,\n    rowData: rowData,\n    rowKey: _rowKey,\n    rowEventHandlers: rowEventHandlers,\n    style: style\n  });\n  var handlerMosueEnter = function handlerMosueEnter(e) {\n    onRowHover == null ? void 0 : onRowHover({\n      hovered: true,\n      rowKey: _rowKey,\n      event: e,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n  };\n  var handlerMouseLeave = function handlerMouseLeave(e) {\n    onRowHover == null ? void 0 : onRowHover({\n      hovered: false,\n      rowKey: _rowKey,\n      event: e,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n  };\n  return vue.createVNode(row[\"default\"], vue.mergeProps(_rowProps, {\n    \"onRowExpand\": onRowExpanded,\n    \"onMouseenter\": handlerMosueEnter,\n    \"onMouseleave\": handlerMouseLeave,\n    \"rowkey\": _rowKey\n  }), _isSlot(slots) ? slots : {\n    \"default\": function _default() {\n      return [slots];\n    }\n  });\n};\nvar Row = RowRenderer;\nexports[\"default\"] = Row;","map":{"version":3,"names":["columns","props","columnsStyles","depthMap","expandColumnKey","expandedRowKeys","estimatedRowHeight","hasFixedColumns","rowData","rowIndex","style","isScrolling","rowProps","rowClass","rowKey","rowEventHandlers","ns","onRowHovered","onRowExpanded","rowKls","utils","tryCall","additionalProps","_rowKey","depth","canExpand","Boolean","isFixedRow","kls","e","_defineProperty","concat","is","includes","slots","row","onRowHover","_rowProps","_objectSpread","handlerMosueEnter","hovered","event","handlerMouseLeave","vue","createVNode","mergeProps","_isSlot","default","RowRenderer"],"sources":["../../../../../../../packages/components/table-v2/src/renderers/row.tsx"],"sourcesContent":["import { Row } from '../components'\nimport { tryCall } from '../utils'\n\nimport type {\n  ComponentInternalInstance,\n  FunctionalComponent,\n  UnwrapNestedRefs,\n} from 'vue'\nimport type { UseNamespaceReturn } from '@element-plus/hooks'\nimport type { UseTableReturn } from '../use-table'\nimport type { TableV2Props } from '../table'\nimport type { TableGridRowSlotParams } from '../table-grid'\n\ntype RowRendererProps = TableGridRowSlotParams &\n  Pick<\n    TableV2Props,\n    | 'expandColumnKey'\n    | 'estimatedRowHeight'\n    | 'rowProps'\n    | 'rowClass'\n    | 'rowKey'\n    | 'rowEventHandlers'\n  > &\n  UnwrapNestedRefs<\n    Pick<\n      UseTableReturn,\n      | 'depthMap'\n      | 'expandedRowKeys'\n      | 'hasFixedColumns'\n      | 'onRowHovered'\n      | 'onRowExpanded'\n      | 'columnsStyles'\n    >\n  > & {\n    ns: UseNamespaceReturn\n    tableInstance: null | ComponentInternalInstance\n  }\n\nconst RowRenderer: FunctionalComponent<RowRendererProps> = (\n  props,\n  { slots }\n) => {\n  const {\n    columns,\n    columnsStyles,\n    depthMap,\n    expandColumnKey,\n    expandedRowKeys,\n    estimatedRowHeight,\n    hasFixedColumns,\n    rowData,\n    rowIndex,\n    style,\n    isScrolling,\n    rowProps,\n    rowClass,\n    rowKey,\n    rowEventHandlers,\n    ns,\n    onRowHovered,\n    onRowExpanded,\n  } = props\n\n  const rowKls = tryCall(rowClass, { columns, rowData, rowIndex }, '')\n  const additionalProps = tryCall(rowProps, {\n    columns,\n    rowData,\n    rowIndex,\n  })\n  const _rowKey = rowData[rowKey]\n  const depth = depthMap[_rowKey] || 0\n  const canExpand = Boolean(expandColumnKey)\n  const isFixedRow = rowIndex < 0\n  const kls = [\n    ns.e('row'),\n    rowKls,\n    {\n      [ns.e(`row-depth-${depth}`)]: canExpand && rowIndex >= 0,\n      [ns.is('expanded')]: canExpand && expandedRowKeys.includes(_rowKey),\n      [ns.is('fixed')]: !depth && isFixedRow,\n      [ns.is('customized')]: Boolean(slots.row),\n    },\n  ]\n\n  const onRowHover = hasFixedColumns ? onRowHovered : undefined\n\n  const _rowProps = {\n    ...additionalProps,\n    columns,\n    columnsStyles,\n    class: kls,\n    depth,\n    expandColumnKey,\n    estimatedRowHeight: isFixedRow ? undefined : estimatedRowHeight,\n    isScrolling,\n    rowIndex,\n    rowData,\n    rowKey: _rowKey,\n    rowEventHandlers,\n    style,\n  }\n\n  const handlerMosueEnter = (e: MouseEvent) => {\n    onRowHover?.({\n      hovered: true,\n      rowKey: _rowKey,\n      event: e,\n      rowData,\n      rowIndex,\n    })\n  }\n\n  const handlerMouseLeave = (e: MouseEvent) => {\n    onRowHover?.({\n      hovered: false,\n      rowKey: _rowKey,\n      event: e,\n      rowData,\n      rowIndex,\n    })\n  }\n\n  return (\n    <Row\n      {..._rowProps}\n      onRowExpand={onRowExpanded}\n      onMouseenter={handlerMosueEnter}\n      onMouseleave={handlerMouseLeave}\n      rowkey={_rowKey}\n    >\n      {slots}\n    </Row>\n  )\n}\n\nexport default RowRenderer\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}