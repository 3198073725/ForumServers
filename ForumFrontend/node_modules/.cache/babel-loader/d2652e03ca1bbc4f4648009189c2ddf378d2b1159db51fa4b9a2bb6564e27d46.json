{"ast":null,"code":"'use strict';\n\nvar _objectSpread = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/objectSpread2.js\")[\"default\"];\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar focusTrap = require('../../focus-trap/src/focus-trap.js');\nvar content = require('./content2.js');\nvar helper = require('./helper.js');\nvar pluginVue_exportHelper = require('../../../_virtual/plugin-vue_export-helper.js');\nvar __default__ = vue.defineComponent({\n  name: \"ElTourContent\"\n});\nvar _sfc_main = /* @__PURE__ */vue.defineComponent(_objectSpread(_objectSpread({}, __default__), {}, {\n  props: content.tourContentProps,\n  emits: content.tourContentEmits,\n  setup: function setup(__props, _ref) {\n    var emit = _ref.emit;\n    var props = __props;\n    var placement = vue.ref(props.placement);\n    var strategy = vue.ref(props.strategy);\n    var contentRef = vue.ref(null);\n    var arrowRef = vue.ref(null);\n    vue.watch(function () {\n      return props.placement;\n    }, function () {\n      placement.value = props.placement;\n    });\n    var _helper$useFloating = helper.useFloating(vue.toRef(props, \"reference\"), contentRef, arrowRef, placement, strategy, vue.toRef(props, \"offset\"), vue.toRef(props, \"zIndex\"), vue.toRef(props, \"showArrow\")),\n      contentStyle = _helper$useFloating.contentStyle,\n      arrowStyle = _helper$useFloating.arrowStyle;\n    var side = vue.computed(function () {\n      return placement.value.split(\"-\")[0];\n    });\n    var _vue$inject = vue.inject(helper.tourKey),\n      ns = _vue$inject.ns;\n    var onCloseRequested = function onCloseRequested() {\n      emit(\"close\");\n    };\n    var onFocusoutPrevented = function onFocusoutPrevented(event) {\n      if (event.detail.focusReason === \"pointer\") {\n        event.preventDefault();\n      }\n    };\n    return function (_ctx, _cache) {\n      return vue.openBlock(), vue.createElementBlock(\"div\", {\n        ref_key: \"contentRef\",\n        ref: contentRef,\n        style: vue.normalizeStyle(vue.unref(contentStyle)),\n        \"class\": vue.normalizeClass(vue.unref(ns).e(\"content\")),\n        \"data-side\": vue.unref(side),\n        tabindex: \"-1\"\n      }, [vue.createVNode(vue.unref(focusTrap[\"default\"]), {\n        loop: \"\",\n        trapped: \"\",\n        \"focus-start-el\": \"container\",\n        \"focus-trap-el\": contentRef.value || void 0,\n        onReleaseRequested: onCloseRequested,\n        onFocusoutPrevented: onFocusoutPrevented\n      }, {\n        \"default\": vue.withCtx(function () {\n          return [vue.renderSlot(_ctx.$slots, \"default\")];\n        }),\n        _: 3\n      }, 8, [\"focus-trap-el\"]), _ctx.showArrow ? (vue.openBlock(), vue.createElementBlock(\"span\", {\n        key: 0,\n        ref_key: \"arrowRef\",\n        ref: arrowRef,\n        style: vue.normalizeStyle(vue.unref(arrowStyle)),\n        \"class\": vue.normalizeClass(vue.unref(ns).e(\"arrow\"))\n      }, null, 6)) : vue.createCommentVNode(\"v-if\", true)], 14, [\"data-side\"]);\n    };\n  }\n}));\nvar ElTourContent = /* @__PURE__ */pluginVue_exportHelper[\"default\"](_sfc_main, [[\"__file\", \"content.vue\"]]);\nexports[\"default\"] = ElTourContent;","map":{"version":3,"names":["name","placement","vue","ref","props","strategy","contentRef","arrowRef","watch","value","_helper$useFloating","helper","useFloating","toRef","contentStyle","arrowStyle","side","computed","split","_vue$inject","inject","tourKey","ns","onCloseRequested","emit","onFocusoutPrevented","event","detail","focusReason","preventDefault","_ctx","_cache","openBlock","createElementBlock","ref_key","style","normalizeStyle","unref","normalizeClass","e","tabindex","createVNode","focusTrap","loop","trapped"],"sources":["../../../../../../packages/components/tour/src/content.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"contentRef\"\n    :style=\"contentStyle\"\n    :class=\"ns.e('content')\"\n    :data-side=\"side\"\n    tabindex=\"-1\"\n  >\n    <el-focus-trap\n      loop\n      trapped\n      focus-start-el=\"container\"\n      :focus-trap-el=\"contentRef || undefined\"\n      @release-requested=\"onCloseRequested\"\n      @focusout-prevented=\"onFocusoutPrevented\"\n    >\n      <slot />\n    </el-focus-trap>\n    <span\n      v-if=\"showArrow\"\n      ref=\"arrowRef\"\n      :style=\"arrowStyle\"\n      :class=\"ns.e('arrow')\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject, ref, toRef, watch } from 'vue'\nimport ElFocusTrap from '@element-plus/components/focus-trap'\nimport { tourContentEmits, tourContentProps } from './content'\nimport { tourKey, useFloating } from './helper'\n\ndefineOptions({\n  name: 'ElTourContent',\n})\n\nconst props = defineProps(tourContentProps)\nconst emit = defineEmits(tourContentEmits)\n\nconst placement = ref(props.placement)\nconst strategy = ref(props.strategy)\nconst contentRef = ref<HTMLElement | null>(null)\nconst arrowRef = ref<HTMLElement | null>(null)\n\nwatch(\n  () => props.placement,\n  () => {\n    placement.value = props.placement\n  }\n)\n\nconst { contentStyle, arrowStyle } = useFloating(\n  toRef(props, 'reference'),\n  contentRef,\n  arrowRef,\n  placement,\n  strategy,\n  toRef(props, 'offset'),\n  toRef(props, 'zIndex'),\n  toRef(props, 'showArrow')\n)\n\nconst side = computed(() => {\n  return placement.value.split('-')[0]\n})\n\nconst { ns } = inject(tourKey)!\n\nconst onCloseRequested = () => {\n  emit('close')\n}\n\nconst onFocusoutPrevented = (event: CustomEvent) => {\n  if (event.detail.focusReason === 'pointer') {\n    event.preventDefault()\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;qCAiCc;EACZA,IAAM;AACR;;;;;;;IAKM,IAAAC,SAAA,GAAYC,GAAA,CAAAC,GAAI,CAAAC,KAAA,CAAMH,SAAS;IAC/B,IAAAI,QAAA,GAAWH,GAAA,CAAAC,GAAI,CAAAC,KAAA,CAAMC,QAAQ;IAC7B,IAAAC,UAAA,GAAaJ,GAAA,CAAAC,GAAA,CAAwB,IAAI;IACzC,IAAAI,QAAA,GAAWL,GAAA,CAAAC,GAAA,CAAwB,IAAI;IAE7CD,GAAA,CAAAM,KAAA;MAAA,OAAAJ,KAAA,CAAAH,SAAA;IAAA;MACEA,SAAY,CAAAQ,KAAA,GAAAL,KAAA,CAAAH,SAAA;IAAA,EACZ;IACE,IAAAS,mBAAA,GAAwBC,MAAA,CAAAC,WAAA,CAAAV,GAAA,CAAAW,KAAA,CAAAT,KAAA,gBAAAE,UAAA,EAAAC,QAAA,EAAAN,SAAA,EAAAI,QAAA,EAAAH,GAAA,CAAAW,KAAA,CAAAT,KAAA,aAAAF,GAAA,CAAAW,KAAA,CAAAT,KAAA,aAAAF,GAAA,CAAAW,KAAA,CAAAT,KAAA;MAAxBU,YAAA,GAAAJ,mBAAA,CAAAI,YAAA;MAAkBC,UAAM,GAAAL,mBAAA,CAANK,UAAM;IAC1B,IAAAC,IAAA,GAAAd,GAAA,CAAAe,QAAA;MACF,OAAAhB,SAAA,CAAAQ,KAAA,CAAAS,KAAA;IAEA,CAAM;IACJ,IAAAC,WAAA,GAAajB,GAAA,CAAAkB,MAAW,CAAAT,MAAA,CAAAU,OAAA;MAAlBC,EAAA,GAAAH,WAAA,CAAAG,EAAA;IACN,IAAAC,gBAAA,YAAAA,iBAAA;MACAC,IAAA;IAAA,CACA;IACA,IAAAC,mBAAA,YAAAA,oBAAAC,KAAA;MACA,IAAAA,KAAA,CAAAC,MAAqB,CAAAC,WAAA;QACrBF,KAAA,CAAAG,cAAqB;MAAA;IACG,CAC1B;IAEM,iBAAAC,IAAA,EAAAC,MAAA,EAAsB;MAC1B,OAAO7B,GAAA,CAAA8B,SAAU,IAAA9B,GAAA,CAAA+B,kBAAkB;QACpCC,OAAA;QAED/B,GAAQ,EAAAG,UAAO;QAEf6B,KAAA,EAAAjC,GAAA,CAAAkC,cAA+B,CAAAlC,GAAA,CAAAmC,KAAA,CAAAvB,YAAA;QAC7B,SAAYZ,GAAA,CAAAoC,cAAA,CAAApC,GAAA,CAAAmC,KAAA,CAAAf,EAAA,EAAAiB,CAAA;QACd,aAAArC,GAAA,CAAAmC,KAAA,CAAArB,IAAA;QAEMwB,QAAA;MACJ,CAAI,GACFtC,GAAA,CAAAuC,WAAqB,CAAAvC,GAAA,CAAAmC,KAAA,CAAAK,SAAA;QACvBC,IAAA;QACFC,OAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}