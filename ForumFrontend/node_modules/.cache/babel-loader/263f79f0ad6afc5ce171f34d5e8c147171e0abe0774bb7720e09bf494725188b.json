{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar globalNode = require('../../utils/vue/global-node.js');\nvar core = require('@vueuse/core');\nvar shared = require('@vue/shared');\nvar useTeleport = function useTeleport(contentRenderer, appendToBody) {\n  var isTeleportVisible = vue.ref(false);\n  if (!core.isClient) {\n    return {\n      isTeleportVisible: isTeleportVisible,\n      showTeleport: shared.NOOP,\n      hideTeleport: shared.NOOP,\n      renderTeleport: shared.NOOP\n    };\n  }\n  var $el = null;\n  var showTeleport = function showTeleport() {\n    isTeleportVisible.value = true;\n    if ($el !== null) return;\n    $el = globalNode.createGlobalNode();\n  };\n  var hideTeleport = function hideTeleport() {\n    isTeleportVisible.value = false;\n    if ($el !== null) {\n      globalNode.removeGlobalNode($el);\n      $el = null;\n    }\n  };\n  var renderTeleport = function renderTeleport() {\n    return appendToBody.value !== true ? contentRenderer() : isTeleportVisible.value ? [vue.h(vue.Teleport, {\n      to: $el\n    }, contentRenderer())] : void 0;\n  };\n  vue.onUnmounted(hideTeleport);\n  return {\n    isTeleportVisible: isTeleportVisible,\n    showTeleport: showTeleport,\n    hideTeleport: hideTeleport,\n    renderTeleport: renderTeleport\n  };\n};\nexports.useTeleport = useTeleport;","map":{"version":3,"names":["useTeleport","contentRenderer","appendToBody","isTeleportVisible","vue","ref","core","isClient","showTeleport","shared","NOOP","hideTeleport","renderTeleport","$el","value","globalNode","createGlobalNode","removeGlobalNode","h","Teleport","to","onUnmounted"],"sources":["../../../../../packages/hooks/use-teleport/index.ts"],"sourcesContent":["import { Teleport, h, onUnmounted, ref } from 'vue'\nimport {\n  NOOP,\n  createGlobalNode,\n  isClient,\n  removeGlobalNode,\n} from '@element-plus/utils'\n\nimport type { Ref, VNode } from 'vue'\n\nexport const useTeleport = (\n  contentRenderer: () => VNode,\n  appendToBody: Ref<boolean>\n) => {\n  const isTeleportVisible = ref(false)\n\n  if (!isClient) {\n    return {\n      isTeleportVisible,\n      showTeleport: NOOP,\n      hideTeleport: NOOP,\n      renderTeleport: NOOP,\n    }\n  }\n\n  let $el: HTMLElement | null = null\n\n  const showTeleport = () => {\n    isTeleportVisible.value = true\n    // this allows the delayed showing strategy since the the content itself could be enterable\n    // e.g. el-popper\n    if ($el !== null) return\n\n    $el = createGlobalNode()\n  }\n\n  const hideTeleport = () => {\n    isTeleportVisible.value = false\n    if ($el !== null) {\n      removeGlobalNode($el)\n      $el = null\n    }\n  }\n\n  const renderTeleport = () => {\n    return appendToBody.value !== true\n      ? contentRenderer()\n      : isTeleportVisible.value\n      ? [h(Teleport, { to: $el }, contentRenderer())]\n      : undefined\n  }\n\n  onUnmounted(hideTeleport)\n\n  return {\n    isTeleportVisible,\n    showTeleport,\n    hideTeleport,\n    renderTeleport,\n  }\n}\n"],"mappings":";;;;;;;;;;AAOY,IAACA,WAAW,GAAG,SAAdA,WAAWA,CAAIC,eAAe,EAAEC,YAAY,EAAK;EAC5D,IAAMC,iBAAiB,GAAGC,GAAA,CAAAC,GAAG,CAAC,KAAK,CAAC;EACpC,IAAI,CAACC,IAAA,CAAAC,QAAQ,EAAE;IACb,OAAO;MACLJ,iBAAiB,EAAjBA,iBAAiB;MACjBK,YAAY,EAAEC,MAAA,CAAAC,IAAI;MAClBC,YAAY,EAAEF,MAAA,CAAAC,IAAI;MAClBE,cAAc,EAAEH,MAAA,CAAAC;IACtB,CAAK;EACL;EACE,IAAIG,GAAG,GAAG,IAAI;EACd,IAAML,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IACzBL,iBAAiB,CAACW,KAAK,GAAG,IAAI;IAC9B,IAAID,GAAG,KAAK,IAAI,EACd;IACFA,GAAG,GAAGE,UAAA,CAAAC,gBAAgB,EAAE;EAC5B,CAAG;EACD,IAAML,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IACzBR,iBAAiB,CAACW,KAAK,GAAG,KAAK;IAC/B,IAAID,GAAG,KAAK,IAAI,EAAE;MAChBE,UAAA,CAAAE,gBAAgB,CAACJ,GAAG,CAAC;MACrBA,GAAG,GAAG,IAAI;IAChB;EACA,CAAG;EACD,IAAMD,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;IAC3B,OAAOV,YAAY,CAACY,KAAK,KAAK,IAAI,GAAGb,eAAe,EAAE,GAAGE,iBAAiB,CAACW,KAAK,GAAG,CAACV,GAAA,CAAAc,CAAC,CAACd,GAAA,CAAAe,QAAQ,EAAE;MAAEC,EAAE,EAAEP;IAAG,CAAE,EAAEZ,eAAe,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC;EAC7I,CAAG;EACDG,GAAA,CAAAiB,WAAW,CAACV,YAAY,CAAC;EACzB,OAAO;IACLR,iBAAiB,EAAjBA,iBAAiB;IACjBK,YAAY,EAAZA,YAAY;IACZG,YAAY,EAAZA,YAAY;IACZC,cAAc,EAAdA;EACJ,CAAG;AACH","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}