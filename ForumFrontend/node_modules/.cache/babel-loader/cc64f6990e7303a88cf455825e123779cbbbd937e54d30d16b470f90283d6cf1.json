{"ast":null,"code":"'use strict';\n\nvar _objectSpread = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/objectSpread2.js\")[\"default\"];\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar index$4 = require('../../popper/index.js');\nvar constants = require('./constants.js');\nvar tooltip = require('./tooltip.js');\nvar trigger = require('./trigger2.js');\nvar content = require('./content2.js');\nvar pluginVue_exportHelper = require('../../../_virtual/plugin-vue_export-helper.js');\nvar index = require('../../../hooks/use-popper-container/index.js');\nvar index$3 = require('../../../hooks/use-delayed-toggle/index.js');\nvar arrow = require('../../popper/src/arrow2.js');\nvar index$1 = require('../../../hooks/use-namespace/index.js');\nvar index$2 = require('../../../hooks/use-id/index.js');\nvar types = require('../../../utils/types.js');\nvar __default__ = vue.defineComponent({\n  name: \"ElTooltip\"\n});\nvar _sfc_main = /* @__PURE__ */vue.defineComponent(_objectSpread(_objectSpread({}, __default__), {}, {\n  props: tooltip.useTooltipProps,\n  emits: tooltip.tooltipEmits,\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose,\n      emit = _ref.emit;\n    var props = __props;\n    index.usePopperContainer();\n    var ns = index$1.useNamespace(\"tooltip\");\n    var id = index$2.useId();\n    var popperRef = vue.ref();\n    var contentRef = vue.ref();\n    var updatePopper = function updatePopper() {\n      var _a;\n      var popperComponent = vue.unref(popperRef);\n      if (popperComponent) {\n        (_a = popperComponent.popperInstanceRef) == null ? void 0 : _a.update();\n      }\n    };\n    var open = vue.ref(false);\n    var toggleReason = vue.ref();\n    var _tooltip$useTooltipMo = tooltip.useTooltipModelToggle({\n        indicator: open,\n        toggleReason: toggleReason\n      }),\n      show = _tooltip$useTooltipMo.show,\n      hide = _tooltip$useTooltipMo.hide,\n      hasUpdateHandler = _tooltip$useTooltipMo.hasUpdateHandler;\n    var _index$3$useDelayedTo = index$3.useDelayedToggle({\n        showAfter: vue.toRef(props, \"showAfter\"),\n        hideAfter: vue.toRef(props, \"hideAfter\"),\n        autoClose: vue.toRef(props, \"autoClose\"),\n        open: show,\n        close: hide\n      }),\n      _onOpen = _index$3$useDelayedTo.onOpen,\n      _onClose = _index$3$useDelayedTo.onClose;\n    var controlled = vue.computed(function () {\n      return types.isBoolean(props.visible) && !hasUpdateHandler.value;\n    });\n    var kls = vue.computed(function () {\n      return [ns.b(), props.popperClass];\n    });\n    vue.provide(constants.TOOLTIP_INJECTION_KEY, {\n      controlled: controlled,\n      id: id,\n      open: vue.readonly(open),\n      trigger: vue.toRef(props, \"trigger\"),\n      onOpen: function onOpen(event) {\n        _onOpen(event);\n      },\n      onClose: function onClose(event) {\n        _onClose(event);\n      },\n      onToggle: function onToggle(event) {\n        if (vue.unref(open)) {\n          _onClose(event);\n        } else {\n          _onOpen(event);\n        }\n      },\n      onShow: function onShow() {\n        emit(\"show\", toggleReason.value);\n      },\n      onHide: function onHide() {\n        emit(\"hide\", toggleReason.value);\n      },\n      onBeforeShow: function onBeforeShow() {\n        emit(\"before-show\", toggleReason.value);\n      },\n      onBeforeHide: function onBeforeHide() {\n        emit(\"before-hide\", toggleReason.value);\n      },\n      updatePopper: updatePopper\n    });\n    vue.watch(function () {\n      return props.disabled;\n    }, function (disabled) {\n      if (disabled && open.value) {\n        open.value = false;\n      }\n    });\n    var isFocusInsideContent = function isFocusInsideContent(event) {\n      var _a;\n      return (_a = contentRef.value) == null ? void 0 : _a.isFocusInsideContent(event);\n    };\n    vue.onDeactivated(function () {\n      return open.value && hide();\n    });\n    expose({\n      popperRef: popperRef,\n      contentRef: contentRef,\n      isFocusInsideContent: isFocusInsideContent,\n      updatePopper: updatePopper,\n      onOpen: _onOpen,\n      onClose: _onClose,\n      hide: hide\n    });\n    return function (_ctx, _cache) {\n      return vue.openBlock(), vue.createBlock(vue.unref(index$4.ElPopper), {\n        ref_key: \"popperRef\",\n        ref: popperRef,\n        role: _ctx.role\n      }, {\n        \"default\": vue.withCtx(function () {\n          return [vue.createVNode(trigger[\"default\"], {\n            disabled: _ctx.disabled,\n            trigger: _ctx.trigger,\n            \"trigger-keys\": _ctx.triggerKeys,\n            \"virtual-ref\": _ctx.virtualRef,\n            \"virtual-triggering\": _ctx.virtualTriggering\n          }, {\n            \"default\": vue.withCtx(function () {\n              return [_ctx.$slots[\"default\"] ? vue.renderSlot(_ctx.$slots, \"default\", {\n                key: 0\n              }) : vue.createCommentVNode(\"v-if\", true)];\n            }),\n            _: 3\n          }, 8, [\"disabled\", \"trigger\", \"trigger-keys\", \"virtual-ref\", \"virtual-triggering\"]), vue.createVNode(content[\"default\"], {\n            ref_key: \"contentRef\",\n            ref: contentRef,\n            \"aria-label\": _ctx.ariaLabel,\n            \"boundaries-padding\": _ctx.boundariesPadding,\n            content: _ctx.content,\n            disabled: _ctx.disabled,\n            effect: _ctx.effect,\n            enterable: _ctx.enterable,\n            \"fallback-placements\": _ctx.fallbackPlacements,\n            \"hide-after\": _ctx.hideAfter,\n            \"gpu-acceleration\": _ctx.gpuAcceleration,\n            offset: _ctx.offset,\n            persistent: _ctx.persistent,\n            \"popper-class\": vue.unref(kls),\n            \"popper-style\": _ctx.popperStyle,\n            placement: _ctx.placement,\n            \"popper-options\": _ctx.popperOptions,\n            \"arrow-offset\": _ctx.arrowOffset,\n            pure: _ctx.pure,\n            \"raw-content\": _ctx.rawContent,\n            \"reference-el\": _ctx.referenceEl,\n            \"trigger-target-el\": _ctx.triggerTargetEl,\n            \"show-after\": _ctx.showAfter,\n            strategy: _ctx.strategy,\n            teleported: _ctx.teleported,\n            transition: _ctx.transition,\n            \"virtual-triggering\": _ctx.virtualTriggering,\n            \"z-index\": _ctx.zIndex,\n            \"append-to\": _ctx.appendTo\n          }, {\n            \"default\": vue.withCtx(function () {\n              return [vue.renderSlot(_ctx.$slots, \"content\", {}, function () {\n                return [_ctx.rawContent ? (vue.openBlock(), vue.createElementBlock(\"span\", {\n                  key: 0,\n                  innerHTML: _ctx.content\n                }, null, 8, [\"innerHTML\"])) : (vue.openBlock(), vue.createElementBlock(\"span\", {\n                  key: 1\n                }, vue.toDisplayString(_ctx.content), 1))];\n              }), _ctx.showArrow ? (vue.openBlock(), vue.createBlock(vue.unref(arrow[\"default\"]), {\n                key: 0\n              })) : vue.createCommentVNode(\"v-if\", true)];\n            }),\n            _: 3\n          }, 8, [\"aria-label\", \"boundaries-padding\", \"content\", \"disabled\", \"effect\", \"enterable\", \"fallback-placements\", \"hide-after\", \"gpu-acceleration\", \"offset\", \"persistent\", \"popper-class\", \"popper-style\", \"placement\", \"popper-options\", \"arrow-offset\", \"pure\", \"raw-content\", \"reference-el\", \"trigger-target-el\", \"show-after\", \"strategy\", \"teleported\", \"transition\", \"virtual-triggering\", \"z-index\", \"append-to\"])];\n        }),\n        _: 3\n      }, 8, [\"role\"]);\n    };\n  }\n}));\nvar Tooltip = /* @__PURE__ */pluginVue_exportHelper[\"default\"](_sfc_main, [[\"__file\", \"tooltip.vue\"]]);\nexports[\"default\"] = Tooltip;","map":{"version":3,"names":["name","index","usePopperContainer","ns","index$1","useNamespace","id","index$2","useId","popperRef","vue","ref","contentRef","updatePopper","_a","popperComponent","unref","popperInstanceRef","update","open","toggleReason","_tooltip$useTooltipMo","tooltip","useTooltipModelToggle","indicator","show","hide","hasUpdateHandler","_index$3$useDelayedTo","index$3","useDelayedToggle","showAfter","toRef","props","hideAfter","autoClose","close","onOpen","onClose","controlled","computed","types","isBoolean","visible","value","kls","b","popperClass","provide","constants","TOOLTIP_INJECTION_KEY","readonly","trigger","event","onToggle","onShow","emit","onHide","onBeforeShow","onBeforeHide","watch","disabled","isFocusInsideContent","onDeactivated","expose","_ctx","_cache","openBlock","createBlock","index$4","ElPopper","ref_key","role","withCtx","createVNode","triggerKeys","virtualRef","virtualTriggering","$slots","renderSlot","key","createCommentVNode","_","content","ariaLabel","boundariesPadding"],"sources":["../../../../../../packages/components/tooltip/src/tooltip.vue"],"sourcesContent":["<template>\n  <el-popper ref=\"popperRef\" :role=\"role\">\n    <el-tooltip-trigger\n      :disabled=\"disabled\"\n      :trigger=\"trigger\"\n      :trigger-keys=\"triggerKeys\"\n      :virtual-ref=\"virtualRef\"\n      :virtual-triggering=\"virtualTriggering\"\n    >\n      <slot v-if=\"$slots.default\" />\n    </el-tooltip-trigger>\n    <el-tooltip-content\n      ref=\"contentRef\"\n      :aria-label=\"ariaLabel\"\n      :boundaries-padding=\"boundariesPadding\"\n      :content=\"content\"\n      :disabled=\"disabled\"\n      :effect=\"effect\"\n      :enterable=\"enterable\"\n      :fallback-placements=\"fallbackPlacements\"\n      :hide-after=\"hideAfter\"\n      :gpu-acceleration=\"gpuAcceleration\"\n      :offset=\"offset\"\n      :persistent=\"persistent\"\n      :popper-class=\"kls\"\n      :popper-style=\"popperStyle\"\n      :placement=\"placement\"\n      :popper-options=\"popperOptions\"\n      :arrow-offset=\"arrowOffset\"\n      :pure=\"pure\"\n      :raw-content=\"rawContent\"\n      :reference-el=\"referenceEl\"\n      :trigger-target-el=\"triggerTargetEl\"\n      :show-after=\"showAfter\"\n      :strategy=\"strategy\"\n      :teleported=\"teleported\"\n      :transition=\"transition\"\n      :virtual-triggering=\"virtualTriggering\"\n      :z-index=\"zIndex\"\n      :append-to=\"appendTo\"\n    >\n      <slot name=\"content\">\n        <span v-if=\"rawContent\" v-html=\"content\" />\n        <span v-else>{{ content }}</span>\n      </slot>\n      <el-popper-arrow v-if=\"showArrow\" />\n    </el-tooltip-content>\n  </el-popper>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  computed,\n  onDeactivated,\n  provide,\n  readonly,\n  ref,\n  toRef,\n  unref,\n  watch,\n} from 'vue'\nimport { ElPopper, ElPopperArrow } from '@element-plus/components/popper'\n\nimport { isBoolean } from '@element-plus/utils'\nimport {\n  useDelayedToggle,\n  useId,\n  useNamespace,\n  usePopperContainer,\n} from '@element-plus/hooks'\nimport { TOOLTIP_INJECTION_KEY } from './constants'\nimport { tooltipEmits, useTooltipModelToggle, useTooltipProps } from './tooltip'\nimport ElTooltipTrigger from './trigger.vue'\nimport ElTooltipContent from './content.vue'\nimport type { TooltipContentInstance } from './content'\nimport type { PopperInstance } from '@element-plus/components/popper'\n\ndefineOptions({\n  name: 'ElTooltip',\n})\n\nconst props = defineProps(useTooltipProps)\nconst emit = defineEmits(tooltipEmits)\n\nusePopperContainer()\n\nconst ns = useNamespace('tooltip')\nconst id = useId()\nconst popperRef = ref<PopperInstance>()\nconst contentRef = ref<TooltipContentInstance>()\n\nconst updatePopper = () => {\n  const popperComponent = unref(popperRef)\n  if (popperComponent) {\n    popperComponent.popperInstanceRef?.update()\n  }\n}\nconst open = ref(false)\nconst toggleReason = ref<Event>()\n\nconst { show, hide, hasUpdateHandler } = useTooltipModelToggle({\n  indicator: open,\n  toggleReason,\n})\n\nconst { onOpen, onClose } = useDelayedToggle({\n  showAfter: toRef(props, 'showAfter'),\n  hideAfter: toRef(props, 'hideAfter'),\n  autoClose: toRef(props, 'autoClose'),\n  open: show,\n  close: hide,\n})\n\nconst controlled = computed(\n  () => isBoolean(props.visible) && !hasUpdateHandler.value\n)\n\nconst kls = computed(() => {\n  return [ns.b(), props.popperClass!]\n})\n\nprovide(TOOLTIP_INJECTION_KEY, {\n  controlled,\n  id,\n  open: readonly(open),\n  trigger: toRef(props, 'trigger'),\n  onOpen: (event?: Event) => {\n    onOpen(event)\n  },\n  onClose: (event?: Event) => {\n    onClose(event)\n  },\n  onToggle: (event?: Event) => {\n    if (unref(open)) {\n      onClose(event)\n    } else {\n      onOpen(event)\n    }\n  },\n  onShow: () => {\n    emit('show', toggleReason.value)\n  },\n  onHide: () => {\n    emit('hide', toggleReason.value)\n  },\n  onBeforeShow: () => {\n    emit('before-show', toggleReason.value)\n  },\n  onBeforeHide: () => {\n    emit('before-hide', toggleReason.value)\n  },\n  updatePopper,\n})\n\nwatch(\n  () => props.disabled,\n  (disabled) => {\n    if (disabled && open.value) {\n      open.value = false\n    }\n  }\n)\n\nconst isFocusInsideContent = (event?: FocusEvent) => {\n  return contentRef.value?.isFocusInsideContent(event)\n}\n\nonDeactivated(() => open.value && hide())\n\ndefineExpose({\n  /**\n   * @description el-popper component instance\n   */\n  popperRef,\n  /**\n   * @description el-tooltip-content component instance\n   */\n  contentRef,\n  /**\n   * @description validate current focus event is trigger inside el-tooltip-content\n   */\n  isFocusInsideContent,\n  /**\n   * @description update el-popper component instance\n   */\n  updatePopper,\n  /**\n   * @description expose onOpen function to mange el-tooltip open state\n   */\n  onOpen,\n  /**\n   * @description expose onOpen function to mange el-tooltip open state\n   */\n  onClose,\n  /**\n   * @description expose hide function\n   */\n  hide,\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}