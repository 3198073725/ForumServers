{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.array.includes.js\");\nrequire(\"core-js/modules/es.array.unshift.js\");\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nfunction useMenu(instance, currentIndex) {\n  var indexPath = vue.computed(function () {\n    var parent = instance.parent;\n    var path = [currentIndex.value];\n    while (parent.type.name !== \"ElMenu\") {\n      if (parent.props.index) {\n        path.unshift(parent.props.index);\n      }\n      parent = parent.parent;\n    }\n    return path;\n  });\n  var parentMenu = vue.computed(function () {\n    var parent = instance.parent;\n    while (parent && ![\"ElMenu\", \"ElSubMenu\"].includes(parent.type.name)) {\n      parent = parent.parent;\n    }\n    return parent;\n  });\n  return {\n    parentMenu: parentMenu,\n    indexPath: indexPath\n  };\n}\nexports[\"default\"] = useMenu;","map":{"version":3,"names":["useMenu","instance","currentIndex","indexPath","vue","computed","parent","path","value","type","name","props","index","unshift","parentMenu","includes"],"sources":["../../../../../../packages/components/menu/src/use-menu.ts"],"sourcesContent":["import { computed } from 'vue'\n\nimport type { ComponentInternalInstance, Ref } from 'vue'\n\nexport default function useMenu(\n  instance: ComponentInternalInstance,\n  currentIndex: Ref<string>\n) {\n  const indexPath = computed(() => {\n    let parent = instance.parent!\n    const path = [currentIndex.value]\n    while (parent.type.name !== 'ElMenu') {\n      if (parent.props.index) {\n        path.unshift(parent.props.index as string)\n      }\n      parent = parent.parent!\n    }\n    return path\n  })\n\n  const parentMenu = computed(() => {\n    let parent = instance.parent\n    while (parent && !['ElMenu', 'ElSubMenu'].includes(parent.type.name!)) {\n      parent = parent.parent\n    }\n    return parent!\n  })\n\n  return {\n    parentMenu,\n    indexPath,\n  }\n}\n"],"mappings":";;;;;;;;;;AACe,SAASA,OAAOA,CAACC,QAAQ,EAAEC,YAAY,EAAE;EACtD,IAAMC,SAAS,GAAGC,GAAA,CAAAC,QAAQ,CAAC,YAAM;IAC/B,IAAIC,MAAM,GAAGL,QAAQ,CAACK,MAAM;IAC5B,IAAMC,IAAI,GAAG,CAACL,YAAY,CAACM,KAAK,CAAC;IACjC,OAAOF,MAAM,CAACG,IAAI,CAACC,IAAI,KAAK,QAAQ,EAAE;MACpC,IAAIJ,MAAM,CAACK,KAAK,CAACC,KAAK,EAAE;QACtBL,IAAI,CAACM,OAAO,CAACP,MAAM,CAACK,KAAK,CAACC,KAAK,CAAC;MACxC;MACMN,MAAM,GAAGA,MAAM,CAACA,MAAM;IAC5B;IACI,OAAOC,IAAI;EACf,CAAG,CAAC;EACF,IAAMO,UAAU,GAAGV,GAAA,CAAAC,QAAQ,CAAC,YAAM;IAChC,IAAIC,MAAM,GAAGL,QAAQ,CAACK,MAAM;IAC5B,OAAOA,MAAM,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAACS,QAAQ,CAACT,MAAM,CAACG,IAAI,CAACC,IAAI,CAAC,EAAE;MACpEJ,MAAM,GAAGA,MAAM,CAACA,MAAM;IAC5B;IACI,OAAOA,MAAM;EACjB,CAAG,CAAC;EACF,OAAO;IACLQ,UAAU,EAAVA,UAAU;IACVX,SAAS,EAATA;EACJ,CAAG;AACH","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}