{"ast":null,"code":"import { renderSlot as _renderSlot, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_button = _resolveComponent(\"el-button\");\n  return _openBlock(), _createBlock(_component_el_button, {\n    type: $props.type,\n    size: $props.size,\n    onClick: $setup.goBack\n  }, {\n    \"default\": _withCtx(function () {\n      return [_renderSlot(_ctx.$slots, \"default\", {}, function () {\n        return [_cache[0] || (_cache[0] = _createTextVNode(\"返回\"))];\n      }, true)];\n    }),\n    _: 3 /* FORWARDED */\n  }, 8 /* PROPS */, [\"type\", \"size\", \"onClick\"]);\n}","map":{"version":3,"names":["_createBlock","_component_el_button","type","$props","size","onClick","$setup","goBack","_withCtx","_renderSlot","_ctx","$slots","_createTextVNode","_"],"sources":["H:\\ForumServers\\ForumFrontend\\src\\components\\BackButton.vue"],"sourcesContent":["<template>\n  <el-button :type=\"type\" :size=\"size\" @click=\"goBack\">\n    <slot>返回</slot>\n  </el-button>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router'\n\nexport default {\n  name: 'BackButton',\n  props: {\n    type: {\n      type: String,\n      default: 'default',\n      validator: (value) => {\n        // 如果是 'text'，自动转换为 'link'\n        return value !== 'text' || 'link';\n      }\n    },\n    size: {\n      type: String,\n      default: 'default'\n    },\n    // 可选的回退步数\n    steps: {\n      type: Number,\n      default: 1\n    },\n    // 可选的默认回退路径，如果无法回退则跳转到此路径\n    fallbackPath: {\n      type: String,\n      default: '/'\n    }\n  },\n  setup(props) {\n    const router = useRouter()\n\n    const goBack = () => {\n      // 尝试使用window.history.length判断是否可以回退\n      if (window.history.length > 1) {\n        router.go(-props.steps)\n      } else {\n        // 如果无法回退，则跳转到默认路径\n        router.push(props.fallbackPath)\n      }\n    }\n\n    return {\n      goBack\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 可以添加自定义样式 */\n</style>\n"],"mappings":";;;uBACEA,YAAA,CAEYC,oBAAA;IAFAC,IAAI,EAAEC,MAAA,CAAAD,IAAI;IAAGE,IAAI,EAAED,MAAA,CAAAC,IAAI;IAAGC,OAAK,EAAEC,MAAA,CAAAC;;IAD/C,WAAAC,QAAA,CAEI;MAAA,OAAe,CAAfC,WAAA,CAAeC,IAAA,CAAAC,MAAA,iBAAf;QAAA,OAAe,C,0BAFnBC,gBAAA,CAEU,IAAE,G;;;IAFZC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}