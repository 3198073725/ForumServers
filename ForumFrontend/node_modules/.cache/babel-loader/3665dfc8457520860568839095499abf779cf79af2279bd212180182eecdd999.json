{"ast":null,"code":"'use strict';\n\nvar _objectSpread = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/objectSpread2.js\")[\"default\"];\nvar _defineProperty = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/defineProperty.js\")[\"default\"];\nrequire(\"core-js/modules/es.array.includes.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar index = require('../../icon/index.js');\nvar dropdown = require('./dropdown.js');\nvar tokens = require('./tokens.js');\nvar pluginVue_exportHelper = require('../../../_virtual/plugin-vue_export-helper.js');\nvar rovingFocusGroup = require('../../roving-focus-group/src/roving-focus-group2.js');\nvar tokens$1 = require('../../roving-focus-group/src/tokens.js');\nvar collection = require('../../collection/src/collection.js');\nvar index$1 = require('../../../hooks/use-namespace/index.js');\nvar refs = require('../../../utils/vue/refs.js');\nvar event = require('../../../utils/dom/event.js');\nvar aria = require('../../../constants/aria.js');\nvar _sfc_main = vue.defineComponent({\n  name: \"DropdownItemImpl\",\n  components: {\n    ElIcon: index.ElIcon\n  },\n  props: dropdown.dropdownItemProps,\n  emits: [\"pointermove\", \"pointerleave\", \"click\", \"clickimpl\"],\n  setup: function setup(_, _ref) {\n    var emit = _ref.emit;\n    var ns = index$1.useNamespace(\"dropdown\");\n    var _vue$inject = vue.inject(tokens.DROPDOWN_INJECTION_KEY, void 0),\n      menuRole = _vue$inject.role;\n    var _vue$inject2 = vue.inject(dropdown.DROPDOWN_COLLECTION_ITEM_INJECTION_KEY, void 0),\n      dropdownCollectionItemRef = _vue$inject2.collectionItemRef;\n    var _vue$inject3 = vue.inject(rovingFocusGroup.ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY, void 0),\n      rovingFocusCollectionItemRef = _vue$inject3.collectionItemRef;\n    var _vue$inject4 = vue.inject(tokens$1.ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, void 0),\n      rovingFocusGroupItemRef = _vue$inject4.rovingFocusGroupItemRef,\n      tabIndex = _vue$inject4.tabIndex,\n      handleFocus = _vue$inject4.handleFocus,\n      handleItemKeydown = _vue$inject4.handleKeydown,\n      handleMousedown = _vue$inject4.handleMousedown;\n    var itemRef = refs.composeRefs(dropdownCollectionItemRef, rovingFocusCollectionItemRef, rovingFocusGroupItemRef);\n    var role = vue.computed(function () {\n      if (menuRole.value === \"menu\") {\n        return \"menuitem\";\n      } else if (menuRole.value === \"navigation\") {\n        return \"link\";\n      }\n      return \"button\";\n    });\n    var handleKeydown = event.composeEventHandlers(function (e) {\n      if ([aria.EVENT_CODE.enter, aria.EVENT_CODE.numpadEnter, aria.EVENT_CODE.space].includes(e.code)) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        emit(\"clickimpl\", e);\n        return true;\n      }\n    }, handleItemKeydown);\n    return {\n      ns: ns,\n      itemRef: itemRef,\n      dataset: _defineProperty({}, collection.COLLECTION_ITEM_SIGN, \"\"),\n      role: role,\n      tabIndex: tabIndex,\n      handleFocus: handleFocus,\n      handleKeydown: handleKeydown,\n      handleMousedown: handleMousedown\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_icon = vue.resolveComponent(\"el-icon\");\n  return vue.openBlock(), vue.createElementBlock(vue.Fragment, null, [_ctx.divided ? (vue.openBlock(), vue.createElementBlock(\"li\", {\n    key: 0,\n    role: \"separator\",\n    \"class\": vue.normalizeClass(_ctx.ns.bem(\"menu\", \"item\", \"divided\"))\n  }, null, 2)) : vue.createCommentVNode(\"v-if\", true), vue.createElementVNode(\"li\", vue.mergeProps({\n    ref: _ctx.itemRef\n  }, _objectSpread(_objectSpread({}, _ctx.dataset), _ctx.$attrs), {\n    \"aria-disabled\": _ctx.disabled,\n    \"class\": [_ctx.ns.be(\"menu\", \"item\"), _ctx.ns.is(\"disabled\", _ctx.disabled)],\n    tabindex: _ctx.tabIndex,\n    role: _ctx.role,\n    onClick: function onClick(e) {\n      return _ctx.$emit(\"clickimpl\", e);\n    },\n    onFocus: _ctx.handleFocus,\n    onKeydown: vue.withModifiers(_ctx.handleKeydown, [\"self\"]),\n    onMousedown: _ctx.handleMousedown,\n    onPointermove: function onPointermove(e) {\n      return _ctx.$emit(\"pointermove\", e);\n    },\n    onPointerleave: function onPointerleave(e) {\n      return _ctx.$emit(\"pointerleave\", e);\n    }\n  }), [_ctx.icon ? (vue.openBlock(), vue.createBlock(_component_el_icon, {\n    key: 0\n  }, {\n    \"default\": vue.withCtx(function () {\n      return [(vue.openBlock(), vue.createBlock(vue.resolveDynamicComponent(_ctx.icon)))];\n    }),\n    _: 1\n  })) : vue.createCommentVNode(\"v-if\", true), vue.renderSlot(_ctx.$slots, \"default\")], 16, [\"aria-disabled\", \"tabindex\", \"role\", \"onClick\", \"onFocus\", \"onKeydown\", \"onMousedown\", \"onPointermove\", \"onPointerleave\"])], 64);\n}\nvar ElDropdownItemImpl = /* @__PURE__ */pluginVue_exportHelper[\"default\"](_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"dropdown-item-impl.vue\"]]);\nexports[\"default\"] = ElDropdownItemImpl;","map":{"version":3,"names":["_sfc_main","vue","defineComponent","name","components","ElIcon","index","props","dropdown","dropdownItemProps","emits","setup","_","_ref","emit","ns","index$1","useNamespace","_vue$inject","inject","tokens","DROPDOWN_INJECTION_KEY","menuRole","role","_vue$inject2","DROPDOWN_COLLECTION_ITEM_INJECTION_KEY","dropdownCollectionItemRef","collectionItemRef","_vue$inject3","rovingFocusGroup","ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY","rovingFocusCollectionItemRef","_vue$inject4","tokens$1","ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY","rovingFocusGroupItemRef","tabIndex","handleFocus","handleItemKeydown","handleKeydown","handleMousedown","itemRef","refs","composeRefs","computed","value","event","composeEventHandlers","e","aria","EVENT_CODE","enter","numpadEnter","space","includes","code","preventDefault","stopImmediatePropagation","dataset","_defineProperty","collection","COLLECTION_ITEM_SIGN","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_component_el_icon","resolveComponent","openBlock","createElementBlock","Fragment","divided","key","normalizeClass","bem","createCommentVNode","createElementVNode","mergeProps","ref","_objectSpread","$attrs","disabled","be","is","onPointerleave","$emit","icon","createBlock","withCtx","resolveDynamicComponent","ElDropdownItemImpl","pluginVue_exportHelper"],"sources":["../../../../../../packages/components/dropdown/src/dropdown-item-impl.vue"],"sourcesContent":["<template>\n  <li\n    v-if=\"divided\"\n    role=\"separator\"\n    :class=\"ns.bem('menu', 'item', 'divided')\"\n  />\n  <li\n    :ref=\"itemRef\"\n    v-bind=\"{ ...dataset, ...$attrs }\"\n    :aria-disabled=\"disabled\"\n    :class=\"[ns.be('menu', 'item'), ns.is('disabled', disabled)]\"\n    :tabindex=\"tabIndex\"\n    :role=\"role\"\n    @click=\"(e) => $emit('clickimpl', e)\"\n    @focus=\"handleFocus\"\n    @keydown.self=\"handleKeydown\"\n    @mousedown=\"handleMousedown\"\n    @pointermove=\"(e) => $emit('pointermove', e)\"\n    @pointerleave=\"(e) => $emit('pointerleave', e)\"\n  >\n    <el-icon v-if=\"icon\">\n      <component :is=\"icon\" />\n    </el-icon>\n    <slot />\n  </li>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject } from 'vue'\nimport {\n  ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,\n  ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n} from '@element-plus/components/roving-focus-group'\nimport { COLLECTION_ITEM_SIGN } from '@element-plus/components/collection'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { useNamespace } from '@element-plus/hooks'\nimport { composeEventHandlers, composeRefs } from '@element-plus/utils'\nimport { EVENT_CODE } from '@element-plus/constants'\nimport {\n  DROPDOWN_COLLECTION_ITEM_INJECTION_KEY,\n  dropdownItemProps,\n} from './dropdown'\nimport { DROPDOWN_INJECTION_KEY } from './tokens'\n\nexport default defineComponent({\n  name: 'DropdownItemImpl',\n  components: {\n    ElIcon,\n  },\n  props: dropdownItemProps,\n  emits: ['pointermove', 'pointerleave', 'click', 'clickimpl'],\n  setup(_, { emit }) {\n    const ns = useNamespace('dropdown')\n\n    const { role: menuRole } = inject(DROPDOWN_INJECTION_KEY, undefined)!\n\n    const { collectionItemRef: dropdownCollectionItemRef } = inject(\n      DROPDOWN_COLLECTION_ITEM_INJECTION_KEY,\n      undefined\n    )!\n\n    const { collectionItemRef: rovingFocusCollectionItemRef } = inject(\n      ROVING_FOCUS_ITEM_COLLECTION_INJECTION_KEY,\n      undefined\n    )!\n\n    const {\n      rovingFocusGroupItemRef,\n      tabIndex,\n      handleFocus,\n      handleKeydown: handleItemKeydown,\n      handleMousedown,\n    } = inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY, undefined)!\n\n    const itemRef = composeRefs(\n      dropdownCollectionItemRef,\n      rovingFocusCollectionItemRef,\n      rovingFocusGroupItemRef\n    )\n\n    const role = computed<string>(() => {\n      if (menuRole.value === 'menu') {\n        return 'menuitem'\n      } else if (menuRole.value === 'navigation') {\n        return 'link'\n      }\n      return 'button'\n    })\n\n    const handleKeydown = composeEventHandlers((e: KeyboardEvent) => {\n      if (\n        [EVENT_CODE.enter, EVENT_CODE.numpadEnter, EVENT_CODE.space].includes(\n          e.code\n        )\n      ) {\n        e.preventDefault()\n        e.stopImmediatePropagation()\n        emit('clickimpl', e)\n        return true\n      }\n    }, handleItemKeydown)\n\n    return {\n      ns,\n      itemRef,\n      dataset: {\n        [COLLECTION_ITEM_SIGN]: '',\n      },\n      role,\n      tabIndex,\n      handleFocus,\n      handleKeydown,\n      handleMousedown,\n    }\n  },\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}