{"ast":null,"code":"'use strict';\n\nvar _slicedToArray = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/slicedToArray.js\")[\"default\"];\nvar _toConsumableArray = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/toConsumableArray.js\")[\"default\"];\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.array.includes.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.array.splice.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.replace.js\");\nrequire(\"core-js/modules/es.string.trim.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar useFormCommonProps = require('../../../form/src/hooks/use-form-common-props.js');\nvar types = require('../../../../utils/types.js');\nvar event = require('../../../../constants/event.js');\nvar aria = require('../../../../constants/aria.js');\nvar index = require('../../../../hooks/use-focus-controller/index.js');\nvar error = require('../../../../utils/error.js');\nvar index$1 = require('../../../../hooks/use-composition/index.js');\nfunction useInputTag(_ref) {\n  var props = _ref.props,\n    emit = _ref.emit,\n    formItem = _ref.formItem;\n  var disabled = useFormCommonProps.useFormDisabled();\n  var size = useFormCommonProps.useFormSize();\n  var inputRef = vue.shallowRef();\n  var inputValue = vue.ref();\n  var tagSize = vue.computed(function () {\n    return [\"small\"].includes(size.value) ? \"small\" : \"default\";\n  });\n  var placeholder = vue.computed(function () {\n    var _a;\n    return ((_a = props.modelValue) == null ? void 0 : _a.length) ? void 0 : props.placeholder;\n  });\n  var closable = vue.computed(function () {\n    return !(props.readonly || disabled.value);\n  });\n  var inputLimit = vue.computed(function () {\n    var _a, _b;\n    return types.isUndefined(props.max) ? false : ((_b = (_a = props.modelValue) == null ? void 0 : _a.length) != null ? _b : 0) >= props.max;\n  });\n  var handleInput = function handleInput(event$1) {\n    var _a, _b;\n    if (inputLimit.value) {\n      inputValue.value = void 0;\n      return;\n    }\n    if (isComposing.value) return;\n    if (props.delimiter) {\n      var replacement = (_a = inputValue.value) == null ? void 0 : _a.replace(props.delimiter, \"\");\n      if ((replacement == null ? void 0 : replacement.length) !== ((_b = inputValue.value) == null ? void 0 : _b.length)) {\n        inputValue.value = replacement;\n        handleAddTag();\n      }\n    }\n    emit(event.INPUT_EVENT, event$1.target.value);\n  };\n  var handleKeydown = function handleKeydown(event) {\n    var _a;\n    if (isComposing.value) return;\n    switch (event.code) {\n      case props.trigger:\n        event.preventDefault();\n        event.stopPropagation();\n        handleAddTag();\n        break;\n      case aria.EVENT_CODE.numpadEnter:\n        if (props.trigger === aria.EVENT_CODE.enter) {\n          event.preventDefault();\n          event.stopPropagation();\n          handleAddTag();\n        }\n        break;\n      case aria.EVENT_CODE.backspace:\n        if (!inputValue.value && ((_a = props.modelValue) == null ? void 0 : _a.length)) {\n          event.preventDefault();\n          event.stopPropagation();\n          handleRemoveTag(props.modelValue.length - 1);\n        }\n        break;\n    }\n  };\n  var handleAddTag = function handleAddTag() {\n    var _a, _b;\n    var value = (_a = inputValue.value) == null ? void 0 : _a.trim();\n    if (!value || inputLimit.value) return;\n    var list = [].concat(_toConsumableArray((_b = props.modelValue) != null ? _b : []), [value]);\n    emit(event.UPDATE_MODEL_EVENT, list);\n    emit(event.CHANGE_EVENT, list);\n    emit(\"add-tag\", value);\n    inputValue.value = void 0;\n  };\n  var handleRemoveTag = function handleRemoveTag(index) {\n    var _a;\n    var value = ((_a = props.modelValue) != null ? _a : []).slice();\n    var _value$splice = value.splice(index, 1),\n      _value$splice2 = _slicedToArray(_value$splice, 1),\n      item = _value$splice2[0];\n    emit(event.UPDATE_MODEL_EVENT, value);\n    emit(event.CHANGE_EVENT, value);\n    emit(\"remove-tag\", item);\n  };\n  var handleClear = function handleClear() {\n    inputValue.value = void 0;\n    emit(event.UPDATE_MODEL_EVENT, void 0);\n    emit(event.CHANGE_EVENT, void 0);\n    emit(\"clear\");\n  };\n  var handleDragged = function handleDragged(draggingIndex, dropIndex, type) {\n    var _a;\n    var value = ((_a = props.modelValue) != null ? _a : []).slice();\n    var _value$splice3 = value.splice(draggingIndex, 1),\n      _value$splice4 = _slicedToArray(_value$splice3, 1),\n      draggedItem = _value$splice4[0];\n    var step = dropIndex > draggingIndex && type === \"before\" ? -1 : dropIndex < draggingIndex && type === \"after\" ? 1 : 0;\n    value.splice(dropIndex + step, 0, draggedItem);\n    emit(event.UPDATE_MODEL_EVENT, value);\n    emit(event.CHANGE_EVENT, value);\n  };\n  var focus = function focus() {\n    var _a;\n    (_a = inputRef.value) == null ? void 0 : _a.focus();\n  };\n  var blur = function blur() {\n    var _a;\n    (_a = inputRef.value) == null ? void 0 : _a.blur();\n  };\n  var _index$useFocusContro = index.useFocusController(inputRef, {\n      beforeFocus: function beforeFocus() {\n        return disabled.value;\n      },\n      afterBlur: function afterBlur() {\n        var _a;\n        if (props.saveOnBlur) {\n          handleAddTag();\n        } else {\n          inputValue.value = void 0;\n        }\n        if (props.validateEvent) {\n          (_a = formItem == null ? void 0 : formItem.validate) == null ? void 0 : _a.call(formItem, \"blur\")[\"catch\"](function (err) {\n            return error.debugWarn(err);\n          });\n        }\n      }\n    }),\n    wrapperRef = _index$useFocusContro.wrapperRef,\n    isFocused = _index$useFocusContro.isFocused;\n  var _index$1$useCompositi = index$1.useComposition({\n      afterComposition: handleInput\n    }),\n    isComposing = _index$1$useCompositi.isComposing,\n    handleCompositionStart = _index$1$useCompositi.handleCompositionStart,\n    handleCompositionUpdate = _index$1$useCompositi.handleCompositionUpdate,\n    handleCompositionEnd = _index$1$useCompositi.handleCompositionEnd;\n  vue.watch(function () {\n    return props.modelValue;\n  }, function () {\n    var _a;\n    if (props.validateEvent) {\n      (_a = formItem == null ? void 0 : formItem.validate) == null ? void 0 : _a.call(formItem, event.CHANGE_EVENT)[\"catch\"](function (err) {\n        return error.debugWarn(err);\n      });\n    }\n  });\n  return {\n    inputRef: inputRef,\n    wrapperRef: wrapperRef,\n    isFocused: isFocused,\n    isComposing: isComposing,\n    inputValue: inputValue,\n    size: size,\n    tagSize: tagSize,\n    placeholder: placeholder,\n    closable: closable,\n    disabled: disabled,\n    inputLimit: inputLimit,\n    handleDragged: handleDragged,\n    handleInput: handleInput,\n    handleKeydown: handleKeydown,\n    handleAddTag: handleAddTag,\n    handleRemoveTag: handleRemoveTag,\n    handleClear: handleClear,\n    handleCompositionStart: handleCompositionStart,\n    handleCompositionUpdate: handleCompositionUpdate,\n    handleCompositionEnd: handleCompositionEnd,\n    focus: focus,\n    blur: blur\n  };\n}\nexports.useInputTag = useInputTag;","map":{"version":3,"names":["useInputTag","_ref","props","emit","formItem","disabled","useFormCommonProps","useFormDisabled","size","useFormSize","inputRef","vue","shallowRef","inputValue","ref","tagSize","computed","includes","value","placeholder","_a","modelValue","length","closable","readonly","inputLimit","_b","types","isUndefined","max","handleInput","event$1","isComposing","delimiter","replacement","replace","handleAddTag","event","INPUT_EVENT","target","handleKeydown","code","trigger","preventDefault","stopPropagation","aria","EVENT_CODE","numpadEnter","enter","backspace","handleRemoveTag","trim","list","concat","_toConsumableArray","UPDATE_MODEL_EVENT","CHANGE_EVENT","index","slice","_value$splice","splice","_value$splice2","_slicedToArray","item","handleClear","handleDragged","draggingIndex","dropIndex","type","_value$splice3","_value$splice4","draggedItem","step","focus","blur","_index$useFocusContro","useFocusController","beforeFocus","afterBlur","saveOnBlur","validateEvent","validate","call","err","error","debugWarn","wrapperRef","isFocused","_index$1$useCompositi","index$1","useComposition","afterComposition","handleCompositionStart","handleCompositionUpdate","handleCompositionEnd","watch"],"sources":["../../../../../../../packages/components/input-tag/src/composables/use-input-tag.ts"],"sourcesContent":["import { computed, ref, shallowRef, watch } from 'vue'\nimport {\n  CHANGE_EVENT,\n  EVENT_CODE,\n  INPUT_EVENT,\n  UPDATE_MODEL_EVENT,\n} from '@element-plus/constants'\nimport { type EmitFn, debugWarn, isUndefined } from '@element-plus/utils'\nimport { useComposition, useFocusController } from '@element-plus/hooks'\nimport {\n  type FormItemContext,\n  useFormDisabled,\n  useFormSize,\n} from '@element-plus/components/form'\nimport type { InputTagEmits, InputTagProps } from '../input-tag'\n\ninterface UseInputTagOptions {\n  props: InputTagProps\n  emit: EmitFn<InputTagEmits>\n  formItem?: FormItemContext\n}\n\nexport function useInputTag({ props, emit, formItem }: UseInputTagOptions) {\n  const disabled = useFormDisabled()\n  const size = useFormSize()\n\n  const inputRef = shallowRef<HTMLInputElement>()\n  const inputValue = ref<string>()\n\n  const tagSize = computed(() => {\n    return ['small'].includes(size.value) ? 'small' : 'default'\n  })\n  const placeholder = computed(() => {\n    return props.modelValue?.length ? undefined : props.placeholder\n  })\n  const closable = computed(() => !(props.readonly || disabled.value))\n  const inputLimit = computed(() => {\n    return isUndefined(props.max)\n      ? false\n      : (props.modelValue?.length ?? 0) >= props.max\n  })\n\n  const handleInput = (event: Event) => {\n    if (inputLimit.value) {\n      inputValue.value = undefined\n      return\n    }\n\n    if (isComposing.value) return\n    if (props.delimiter) {\n      const replacement = inputValue.value?.replace(props.delimiter, '')\n      if (replacement?.length !== inputValue.value?.length) {\n        inputValue.value = replacement\n        handleAddTag()\n      }\n    }\n    emit(INPUT_EVENT, (event.target as HTMLInputElement).value)\n  }\n\n  const handleKeydown = (event: KeyboardEvent) => {\n    if (isComposing.value) return\n    switch (event.code) {\n      case props.trigger:\n        event.preventDefault()\n        event.stopPropagation()\n        handleAddTag()\n        break\n      case EVENT_CODE.numpadEnter:\n        if (props.trigger === EVENT_CODE.enter) {\n          event.preventDefault()\n          event.stopPropagation()\n          handleAddTag()\n        }\n        break\n      case EVENT_CODE.backspace:\n        if (!inputValue.value && props.modelValue?.length) {\n          event.preventDefault()\n          event.stopPropagation()\n          handleRemoveTag(props.modelValue.length - 1)\n        }\n        break\n    }\n  }\n\n  const handleAddTag = () => {\n    const value = inputValue.value?.trim()\n    if (!value || inputLimit.value) return\n    const list = [...(props.modelValue ?? []), value]\n\n    emit(UPDATE_MODEL_EVENT, list)\n    emit(CHANGE_EVENT, list)\n    emit('add-tag', value)\n    inputValue.value = undefined\n  }\n\n  const handleRemoveTag = (index: number) => {\n    const value = (props.modelValue ?? []).slice()\n    const [item] = value.splice(index, 1)\n\n    emit(UPDATE_MODEL_EVENT, value)\n    emit(CHANGE_EVENT, value)\n    emit('remove-tag', item)\n  }\n\n  const handleClear = () => {\n    inputValue.value = undefined\n    emit(UPDATE_MODEL_EVENT, undefined)\n    emit(CHANGE_EVENT, undefined)\n    emit('clear')\n  }\n\n  const handleDragged = (\n    draggingIndex: number,\n    dropIndex: number,\n    type: 'before' | 'after'\n  ) => {\n    const value = (props.modelValue ?? []).slice()\n    const [draggedItem] = value.splice(draggingIndex, 1)\n    const step =\n      dropIndex > draggingIndex && type === 'before'\n        ? -1\n        : dropIndex < draggingIndex && type === 'after'\n        ? 1\n        : 0\n\n    value.splice(dropIndex + step, 0, draggedItem)\n    emit(UPDATE_MODEL_EVENT, value)\n    emit(CHANGE_EVENT, value)\n  }\n\n  const focus = () => {\n    inputRef.value?.focus()\n  }\n\n  const blur = () => {\n    inputRef.value?.blur()\n  }\n\n  const { wrapperRef, isFocused } = useFocusController(inputRef, {\n    beforeFocus() {\n      return disabled.value\n    },\n    afterBlur() {\n      if (props.saveOnBlur) {\n        handleAddTag()\n      } else {\n        inputValue.value = undefined\n      }\n\n      if (props.validateEvent) {\n        formItem?.validate?.('blur').catch((err) => debugWarn(err))\n      }\n    },\n  })\n\n  const {\n    isComposing,\n    handleCompositionStart,\n    handleCompositionUpdate,\n    handleCompositionEnd,\n  } = useComposition({ afterComposition: handleInput })\n\n  watch(\n    () => props.modelValue,\n    () => {\n      if (props.validateEvent) {\n        formItem?.validate?.(CHANGE_EVENT).catch((err) => debugWarn(err))\n      }\n    }\n  )\n\n  return {\n    inputRef,\n    wrapperRef,\n    isFocused,\n    isComposing,\n    inputValue,\n    size,\n    tagSize,\n    placeholder,\n    closable,\n    disabled,\n    inputLimit,\n    handleDragged,\n    handleInput,\n    handleKeydown,\n    handleAddTag,\n    handleRemoveTag,\n    handleClear,\n    handleCompositionStart,\n    handleCompositionUpdate,\n    handleCompositionEnd,\n    focus,\n    blur,\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}