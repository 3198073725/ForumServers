{"ast":null,"code":"'use strict';\n\nvar _defineProperty = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/defineProperty.js\")[\"default\"];\nvar _objectSpread = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/objectSpread2.js\")[\"default\"];\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar core = require('@vueuse/core');\nvar bar = require('./bar2.js');\nvar constants = require('./constants.js');\nvar scrollbar = require('./scrollbar.js');\nvar pluginVue_exportHelper = require('../../../_virtual/plugin-vue_export-helper.js');\nvar index = require('../../../hooks/use-namespace/index.js');\nvar style = require('../../../utils/dom/style.js');\nvar shared = require('@vue/shared');\nvar types = require('../../../utils/types.js');\nvar error = require('../../../utils/error.js');\nvar COMPONENT_NAME = \"ElScrollbar\";\nvar __default__ = vue.defineComponent({\n  name: COMPONENT_NAME\n});\nvar _sfc_main = /* @__PURE__ */vue.defineComponent(_objectSpread(_objectSpread({}, __default__), {}, {\n  props: scrollbar.scrollbarProps,\n  emits: scrollbar.scrollbarEmits,\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose,\n      emit = _ref.emit;\n    var props = __props;\n    var ns = index.useNamespace(\"scrollbar\");\n    var stopResizeObserver = void 0;\n    var stopResizeListener = void 0;\n    var wrapScrollTop = 0;\n    var wrapScrollLeft = 0;\n    var scrollbarRef = vue.ref();\n    var wrapRef = vue.ref();\n    var resizeRef = vue.ref();\n    var barRef = vue.ref();\n    var wrapStyle = vue.computed(function () {\n      var style$1 = {};\n      if (props.height) style$1.height = style.addUnit(props.height);\n      if (props.maxHeight) style$1.maxHeight = style.addUnit(props.maxHeight);\n      return [props.wrapStyle, style$1];\n    });\n    var wrapKls = vue.computed(function () {\n      return [props.wrapClass, ns.e(\"wrap\"), _defineProperty({}, ns.em(\"wrap\", \"hidden-default\"), !props[\"native\"])];\n    });\n    var resizeKls = vue.computed(function () {\n      return [ns.e(\"view\"), props.viewClass];\n    });\n    var handleScroll = function handleScroll() {\n      var _a;\n      if (wrapRef.value) {\n        (_a = barRef.value) == null ? void 0 : _a.handleScroll(wrapRef.value);\n        wrapScrollTop = wrapRef.value.scrollTop;\n        wrapScrollLeft = wrapRef.value.scrollLeft;\n        emit(\"scroll\", {\n          scrollTop: wrapRef.value.scrollTop,\n          scrollLeft: wrapRef.value.scrollLeft\n        });\n      }\n    };\n    function scrollTo(arg1, arg2) {\n      if (shared.isObject(arg1)) {\n        wrapRef.value.scrollTo(arg1);\n      } else if (types.isNumber(arg1) && types.isNumber(arg2)) {\n        wrapRef.value.scrollTo(arg1, arg2);\n      }\n    }\n    var setScrollTop = function setScrollTop(value) {\n      if (!types.isNumber(value)) {\n        error.debugWarn(COMPONENT_NAME, \"value must be a number\");\n        return;\n      }\n      wrapRef.value.scrollTop = value;\n    };\n    var setScrollLeft = function setScrollLeft(value) {\n      if (!types.isNumber(value)) {\n        error.debugWarn(COMPONENT_NAME, \"value must be a number\");\n        return;\n      }\n      wrapRef.value.scrollLeft = value;\n    };\n    var update = function update() {\n      var _a;\n      (_a = barRef.value) == null ? void 0 : _a.update();\n    };\n    vue.watch(function () {\n      return props.noresize;\n    }, function (noresize) {\n      if (noresize) {\n        stopResizeObserver == null ? void 0 : stopResizeObserver();\n        stopResizeListener == null ? void 0 : stopResizeListener();\n      } else {\n        var _core$useResizeObserv = core.useResizeObserver(resizeRef, update);\n        stopResizeObserver = _core$useResizeObserv.stop;\n        stopResizeListener = core.useEventListener(\"resize\", update);\n      }\n    }, {\n      immediate: true\n    });\n    vue.watch(function () {\n      return [props.maxHeight, props.height];\n    }, function () {\n      if (!props[\"native\"]) vue.nextTick(function () {\n        var _a;\n        update();\n        if (wrapRef.value) {\n          (_a = barRef.value) == null ? void 0 : _a.handleScroll(wrapRef.value);\n        }\n      });\n    });\n    vue.provide(constants.scrollbarContextKey, vue.reactive({\n      scrollbarElement: scrollbarRef,\n      wrapElement: wrapRef\n    }));\n    vue.onActivated(function () {\n      if (wrapRef.value) {\n        wrapRef.value.scrollTop = wrapScrollTop;\n        wrapRef.value.scrollLeft = wrapScrollLeft;\n      }\n    });\n    vue.onMounted(function () {\n      if (!props[\"native\"]) vue.nextTick(function () {\n        update();\n      });\n    });\n    vue.onUpdated(function () {\n      return update();\n    });\n    expose({\n      wrapRef: wrapRef,\n      update: update,\n      scrollTo: scrollTo,\n      setScrollTop: setScrollTop,\n      setScrollLeft: setScrollLeft,\n      handleScroll: handleScroll\n    });\n    return function (_ctx, _cache) {\n      return vue.openBlock(), vue.createElementBlock(\"div\", {\n        ref_key: \"scrollbarRef\",\n        ref: scrollbarRef,\n        \"class\": vue.normalizeClass(vue.unref(ns).b())\n      }, [vue.createElementVNode(\"div\", {\n        ref_key: \"wrapRef\",\n        ref: wrapRef,\n        \"class\": vue.normalizeClass(vue.unref(wrapKls)),\n        style: vue.normalizeStyle(vue.unref(wrapStyle)),\n        tabindex: _ctx.tabindex,\n        onScroll: handleScroll\n      }, [(vue.openBlock(), vue.createBlock(vue.resolveDynamicComponent(_ctx.tag), {\n        id: _ctx.id,\n        ref_key: \"resizeRef\",\n        ref: resizeRef,\n        \"class\": vue.normalizeClass(vue.unref(resizeKls)),\n        style: vue.normalizeStyle(_ctx.viewStyle),\n        role: _ctx.role,\n        \"aria-label\": _ctx.ariaLabel,\n        \"aria-orientation\": _ctx.ariaOrientation\n      }, {\n        \"default\": vue.withCtx(function () {\n          return [vue.renderSlot(_ctx.$slots, \"default\")];\n        }),\n        _: 3\n      }, 8, [\"id\", \"class\", \"style\", \"role\", \"aria-label\", \"aria-orientation\"]))], 46, [\"tabindex\"]), !_ctx[\"native\"] ? (vue.openBlock(), vue.createBlock(bar[\"default\"], {\n        key: 0,\n        ref_key: \"barRef\",\n        ref: barRef,\n        always: _ctx.always,\n        \"min-size\": _ctx.minSize\n      }, null, 8, [\"always\", \"min-size\"])) : vue.createCommentVNode(\"v-if\", true)], 2);\n    };\n  }\n}));\nvar Scrollbar = /* @__PURE__ */pluginVue_exportHelper[\"default\"](_sfc_main, [[\"__file\", \"scrollbar.vue\"]]);\nexports[\"default\"] = Scrollbar;","map":{"version":3,"names":["name","COMPONENT_NAME","ns","index","useNamespace","stopResizeObserver","stopResizeListener","wrapScrollTop","wrapScrollLeft","scrollbarRef","vue","ref","wrapRef","resizeRef","barRef","wrapStyle","computed","style$1","props","height","style","addUnit","maxHeight","wrapKls","wrapClass","e","_defineProperty","em","resizeKls","viewClass","handleScroll","_a","value","scrollTop","scrollLeft","emit","scrollTo","arg1","arg2","shared","isObject","types","isNumber","setScrollTop","error","debugWarn","setScrollLeft","update","watch","noresize","_core$useResizeObserv","core","useResizeObserver","stop","useEventListener","immediate","nextTick","provide","constants","scrollbarContextKey","reactive","scrollbarElement","wrapElement","onActivated","onMounted","onUpdated","expose","_ctx","_cache","openBlock","createElementBlock","ref_key","normalizeClass","unref","b","createElementVNode","normalizeStyle"],"sources":["../../../../../../packages/components/scrollbar/src/scrollbar.vue"],"sourcesContent":["<template>\n  <div ref=\"scrollbarRef\" :class=\"ns.b()\">\n    <div\n      ref=\"wrapRef\"\n      :class=\"wrapKls\"\n      :style=\"wrapStyle\"\n      :tabindex=\"tabindex\"\n      @scroll=\"handleScroll\"\n    >\n      <component\n        :is=\"tag\"\n        :id=\"id\"\n        ref=\"resizeRef\"\n        :class=\"resizeKls\"\n        :style=\"viewStyle\"\n        :role=\"role\"\n        :aria-label=\"ariaLabel\"\n        :aria-orientation=\"ariaOrientation\"\n      >\n        <slot />\n      </component>\n    </div>\n    <template v-if=\"!native\">\n      <bar ref=\"barRef\" :always=\"always\" :min-size=\"minSize\" />\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n  computed,\n  nextTick,\n  onActivated,\n  onMounted,\n  onUpdated,\n  provide,\n  reactive,\n  ref,\n  watch,\n} from 'vue'\nimport { useEventListener, useResizeObserver } from '@vueuse/core'\nimport { addUnit, debugWarn, isNumber, isObject } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport Bar from './bar.vue'\nimport { scrollbarContextKey } from './constants'\nimport { scrollbarEmits, scrollbarProps } from './scrollbar'\nimport type { BarInstance } from './bar'\nimport type { CSSProperties, StyleValue } from 'vue'\n\nconst COMPONENT_NAME = 'ElScrollbar'\n\ndefineOptions({\n  name: COMPONENT_NAME,\n})\n\nconst props = defineProps(scrollbarProps)\nconst emit = defineEmits(scrollbarEmits)\n\nconst ns = useNamespace('scrollbar')\n\nlet stopResizeObserver: (() => void) | undefined = undefined\nlet stopResizeListener: (() => void) | undefined = undefined\nlet wrapScrollTop = 0\nlet wrapScrollLeft = 0\n\nconst scrollbarRef = ref<HTMLDivElement>()\nconst wrapRef = ref<HTMLDivElement>()\nconst resizeRef = ref<HTMLElement>()\nconst barRef = ref<BarInstance>()\n\nconst wrapStyle = computed<StyleValue>(() => {\n  const style: CSSProperties = {}\n  if (props.height) style.height = addUnit(props.height)\n  if (props.maxHeight) style.maxHeight = addUnit(props.maxHeight)\n  return [props.wrapStyle, style]\n})\n\nconst wrapKls = computed(() => {\n  return [\n    props.wrapClass,\n    ns.e('wrap'),\n    { [ns.em('wrap', 'hidden-default')]: !props.native },\n  ]\n})\n\nconst resizeKls = computed(() => {\n  return [ns.e('view'), props.viewClass]\n})\n\nconst handleScroll = () => {\n  if (wrapRef.value) {\n    barRef.value?.handleScroll(wrapRef.value)\n    wrapScrollTop = wrapRef.value.scrollTop\n    wrapScrollLeft = wrapRef.value.scrollLeft\n\n    emit('scroll', {\n      scrollTop: wrapRef.value.scrollTop,\n      scrollLeft: wrapRef.value.scrollLeft,\n    })\n  }\n}\n\n// TODO: refactor method overrides, due to script setup dts\n// @ts-nocheck\nfunction scrollTo(xCord: number, yCord?: number): void\nfunction scrollTo(options: ScrollToOptions): void\nfunction scrollTo(arg1: unknown, arg2?: number) {\n  if (isObject(arg1)) {\n    wrapRef.value!.scrollTo(arg1)\n  } else if (isNumber(arg1) && isNumber(arg2)) {\n    wrapRef.value!.scrollTo(arg1, arg2)\n  }\n}\n\nconst setScrollTop = (value: number) => {\n  if (!isNumber(value)) {\n    debugWarn(COMPONENT_NAME, 'value must be a number')\n    return\n  }\n  wrapRef.value!.scrollTop = value\n}\n\nconst setScrollLeft = (value: number) => {\n  if (!isNumber(value)) {\n    debugWarn(COMPONENT_NAME, 'value must be a number')\n    return\n  }\n  wrapRef.value!.scrollLeft = value\n}\n\nconst update = () => {\n  barRef.value?.update()\n}\n\nwatch(\n  () => props.noresize,\n  (noresize) => {\n    if (noresize) {\n      stopResizeObserver?.()\n      stopResizeListener?.()\n    } else {\n      ;({ stop: stopResizeObserver } = useResizeObserver(resizeRef, update))\n      stopResizeListener = useEventListener('resize', update)\n    }\n  },\n  { immediate: true }\n)\n\nwatch(\n  () => [props.maxHeight, props.height],\n  () => {\n    if (!props.native)\n      nextTick(() => {\n        update()\n        if (wrapRef.value) {\n          barRef.value?.handleScroll(wrapRef.value)\n        }\n      })\n  }\n)\n\nprovide(\n  scrollbarContextKey,\n  reactive({\n    scrollbarElement: scrollbarRef,\n    wrapElement: wrapRef,\n  })\n)\n\nonActivated(() => {\n  if (wrapRef.value) {\n    wrapRef.value.scrollTop = wrapScrollTop\n    wrapRef.value.scrollLeft = wrapScrollLeft\n  }\n})\n\nonMounted(() => {\n  if (!props.native)\n    nextTick(() => {\n      update()\n    })\n})\nonUpdated(() => update())\n\ndefineExpose({\n  /** @description scrollbar wrap ref */\n  wrapRef,\n  /** @description update scrollbar state manually */\n  update,\n  /** @description scrolls to a particular set of coordinates */\n  scrollTo,\n  /** @description set distance to scroll top */\n  setScrollTop,\n  /** @description set distance to scroll left */\n  setScrollLeft,\n  /** @description handle scroll event */\n  handleScroll,\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}