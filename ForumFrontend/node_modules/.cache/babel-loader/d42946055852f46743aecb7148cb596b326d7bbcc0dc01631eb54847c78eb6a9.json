{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar index = require('../use-namespace/index.js');\nvar index$1 = require('../use-id/index.js');\nvar core = require('@vueuse/core');\nvar usePopperContainerId = function usePopperContainerId() {\n  var namespace = index.useGetDerivedNamespace();\n  var idInjection = index$1.useIdInjection();\n  var id = vue.computed(function () {\n    return \"\".concat(namespace.value, \"-popper-container-\").concat(idInjection.prefix);\n  });\n  var selector = vue.computed(function () {\n    return \"#\".concat(id.value);\n  });\n  return {\n    id: id,\n    selector: selector\n  };\n};\nvar createContainer = function createContainer(id) {\n  var container = document.createElement(\"div\");\n  container.id = id;\n  document.body.appendChild(container);\n  return container;\n};\nvar usePopperContainer = function usePopperContainer() {\n  var _usePopperContainerId = usePopperContainerId(),\n    id = _usePopperContainerId.id,\n    selector = _usePopperContainerId.selector;\n  vue.onBeforeMount(function () {\n    if (!core.isClient) return;\n    if (process.env.NODE_ENV === \"test\" || !document.body.querySelector(selector.value)) {\n      createContainer(id.value);\n    }\n  });\n  return {\n    id: id,\n    selector: selector\n  };\n};\nexports.usePopperContainer = usePopperContainer;\nexports.usePopperContainerId = usePopperContainerId;","map":{"version":3,"names":["usePopperContainerId","namespace","index","useGetDerivedNamespace","idInjection","index$1","useIdInjection","id","vue","computed","concat","value","prefix","selector","createContainer","container","document","createElement","body","appendChild","usePopperContainer","_usePopperContainerId","onBeforeMount","core","isClient","process","env","NODE_ENV","querySelector"],"sources":["../../../../../packages/hooks/use-popper-container/index.ts"],"sourcesContent":["import { computed, onBeforeMount } from 'vue'\nimport { isClient } from '@element-plus/utils'\nimport { useGetDerivedNamespace } from '../use-namespace'\nimport { useIdInjection } from '../use-id'\n\nexport const usePopperContainerId = () => {\n  const namespace = useGetDerivedNamespace()\n  const idInjection = useIdInjection()\n\n  const id = computed(() => {\n    return `${namespace.value}-popper-container-${idInjection.prefix}`\n  })\n  const selector = computed(() => `#${id.value}`)\n\n  return {\n    id,\n    selector,\n  }\n}\n\nconst createContainer = (id: string) => {\n  const container = document.createElement('div')\n  container.id = id\n  document.body.appendChild(container)\n  return container\n}\n\nexport const usePopperContainer = () => {\n  const { id, selector } = usePopperContainerId()\n  onBeforeMount(() => {\n    if (!isClient) return\n\n    // This is for bypassing the error that when under testing env, we often encounter\n    // document.body.innerHTML = '' situation\n    // for this we need to disable the caching since it's not really needed\n    if (\n      process.env.NODE_ENV === 'test' ||\n      !document.body.querySelector(selector.value)\n    ) {\n      createContainer(id.value)\n    }\n  })\n\n  return {\n    id,\n    selector,\n  }\n}\n"],"mappings":";;;;;;;;;;;AAIY,IAACA,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAA,EAAS;EACxC,IAAMC,SAAS,GAAGC,KAAA,CAAAC,sBAAsB,EAAE;EAC1C,IAAMC,WAAW,GAAGC,OAAA,CAAAC,cAAc,EAAE;EACpC,IAAMC,EAAE,GAAGC,GAAA,CAAAC,QAAQ,CAAC,YAAM;IACxB,UAAAC,MAAA,CAAUT,SAAS,CAACU,KAAK,wBAAAD,MAAA,CAAqBN,WAAW,CAACQ,MAAM;EACpE,CAAG,CAAC;EACF,IAAMC,QAAQ,GAAGL,GAAA,CAAAC,QAAQ,CAAC;IAAA,WAAAC,MAAA,CAAUH,EAAE,CAACI,KAAK;EAAA,CAAE,CAAC;EAC/C,OAAO;IACLJ,EAAE,EAAFA,EAAE;IACFM,QAAQ,EAARA;EACJ,CAAG;AACH;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAIP,EAAE,EAAK;EAC9B,IAAMQ,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EAC/CF,SAAS,CAACR,EAAE,GAAGA,EAAE;EACjBS,QAAQ,CAACE,IAAI,CAACC,WAAW,CAACJ,SAAS,CAAC;EACpC,OAAOA,SAAS;AAClB,CAAC;AACW,IAACK,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAA,EAAS;EACtC,IAAAC,qBAAA,GAAyBrB,oBAAoB,EAAE;IAAvCO,EAAE,GAAAc,qBAAA,CAAFd,EAAE;IAAEM,QAAQ,GAAAQ,qBAAA,CAARR,QAAQ;EACpBL,GAAA,CAAAc,aAAa,CAAC,YAAM;IAClB,IAAI,CAACC,IAAA,CAAAC,QAAQ,EACX;IACF,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,MAAM,IAAI,CAACX,QAAQ,CAACE,IAAI,CAACU,aAAa,CAACf,QAAQ,CAACF,KAAK,CAAC,EAAE;MACnFG,eAAe,CAACP,EAAE,CAACI,KAAK,CAAC;IAC/B;EACA,CAAG,CAAC;EACF,OAAO;IACLJ,EAAE,EAAFA,EAAE;IACFM,QAAQ,EAARA;EACJ,CAAG;AACH","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}