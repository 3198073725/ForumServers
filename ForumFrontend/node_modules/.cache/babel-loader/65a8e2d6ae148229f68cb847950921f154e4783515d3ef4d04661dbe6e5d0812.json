{"ast":null,"code":"'use strict';\n\nvar _typeof = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/typeof.js\")[\"default\"];\nrequire(\"core-js/modules/es.array.every.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nrequire(\"core-js/modules/es.array.includes.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.iterator.constructor.js\");\nrequire(\"core-js/modules/es.iterator.every.js\");\nrequire(\"core-js/modules/es.iterator.map.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.includes.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/es.string.replace.js\");\nrequire(\"core-js/modules/es.string.trim.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar dayjs = require('dayjs');\nvar types = require('../../../utils/types.js');\nvar shared = require('@vue/shared');\nfunction _interopDefaultLegacy(e) {\n  return e && _typeof(e) === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\nvar dayjs__default = /*#__PURE__*/_interopDefaultLegacy(dayjs);\nvar buildTimeList = function buildTimeList(value, bound) {\n  return [value > 0 ? value - 1 : void 0, value, value < bound ? value + 1 : void 0];\n};\nvar rangeArr = function rangeArr(n) {\n  return Array.from(Array.from({\n    length: n\n  }).keys());\n};\nvar extractDateFormat = function extractDateFormat(format) {\n  return format.replace(/\\W?m{1,2}|\\W?ZZ/g, \"\").replace(/\\W?h{1,2}|\\W?s{1,3}|\\W?a/gi, \"\").trim();\n};\nvar extractTimeFormat = function extractTimeFormat(format) {\n  return format.replace(/\\W?D{1,2}|\\W?Do|\\W?d{1,4}|\\W?M{1,4}|\\W?Y{2,4}/g, \"\").trim();\n};\nvar dateEquals = function dateEquals(a, b) {\n  var aIsDate = shared.isDate(a);\n  var bIsDate = shared.isDate(b);\n  if (aIsDate && bIsDate) {\n    return a.getTime() === b.getTime();\n  }\n  if (!aIsDate && !bIsDate) {\n    return a === b;\n  }\n  return false;\n};\nvar valueEquals = function valueEquals(a, b) {\n  var aIsArray = shared.isArray(a);\n  var bIsArray = shared.isArray(b);\n  if (aIsArray && bIsArray) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    return a.every(function (item, index) {\n      return dateEquals(item, b[index]);\n    });\n  }\n  if (!aIsArray && !bIsArray) {\n    return dateEquals(a, b);\n  }\n  return false;\n};\nvar parseDate = function parseDate(date, format, lang) {\n  var day = types.isEmpty(format) || format === \"x\" ? dayjs__default[\"default\"](date).locale(lang) : dayjs__default[\"default\"](date, format).locale(lang);\n  return day.isValid() ? day : void 0;\n};\nvar formatter = function formatter(date, format, lang) {\n  if (types.isEmpty(format)) return date;\n  if (format === \"x\") return +date;\n  return dayjs__default[\"default\"](date).locale(lang).format(format);\n};\nvar makeList = function makeList(total, method) {\n  var _a;\n  var arr = [];\n  var disabledArr = method == null ? void 0 : method();\n  for (var i = 0; i < total; i++) {\n    arr.push((_a = disabledArr == null ? void 0 : disabledArr.includes(i)) != null ? _a : false);\n  }\n  return arr;\n};\nvar dayOrDaysToDate = function dayOrDaysToDate(dayOrDays) {\n  return shared.isArray(dayOrDays) ? dayOrDays.map(function (d) {\n    return d.toDate();\n  }) : dayOrDays.toDate();\n};\nexports.buildTimeList = buildTimeList;\nexports.dateEquals = dateEquals;\nexports.dayOrDaysToDate = dayOrDaysToDate;\nexports.extractDateFormat = extractDateFormat;\nexports.extractTimeFormat = extractTimeFormat;\nexports.formatter = formatter;\nexports.makeList = makeList;\nexports.parseDate = parseDate;\nexports.rangeArr = rangeArr;\nexports.valueEquals = valueEquals;","map":{"version":3,"names":["buildTimeList","value","bound","rangeArr","n","Array","from","length","keys","extractDateFormat","format","replace","trim","extractTimeFormat","dateEquals","a","b","aIsDate","shared","isDate","bIsDate","getTime","valueEquals","aIsArray","isArray","bIsArray","every","item","index","parseDate","date","lang","day","types","isEmpty","dayjs__default","locale","isValid","formatter","makeList","total","method","_a","arr","disabledArr","i","push","includes","dayOrDaysToDate","dayOrDays","map","d","toDate"],"sources":["../../../../../../packages/components/time-picker/src/utils.ts"],"sourcesContent":["import dayjs from 'dayjs'\nimport { isArray, isDate, isEmpty } from '@element-plus/utils'\n\nimport type { Dayjs } from 'dayjs'\nimport type { DateOrDates, DayOrDays } from './common/props'\n\nexport type TimeList = [number | undefined, number, undefined | number]\n\nexport const buildTimeList = (value: number, bound: number): TimeList => {\n  return [\n    value > 0 ? value - 1 : undefined,\n    value,\n    value < bound ? value + 1 : undefined,\n  ]\n}\n\nexport const rangeArr = (n: number) =>\n  Array.from(Array.from({ length: n }).keys())\n\nexport const extractDateFormat = (format: string) => {\n  return format\n    .replace(/\\W?m{1,2}|\\W?ZZ/g, '')\n    .replace(/\\W?h{1,2}|\\W?s{1,3}|\\W?a/gi, '')\n    .trim()\n}\n\nexport const extractTimeFormat = (format: string) => {\n  return format\n    .replace(/\\W?D{1,2}|\\W?Do|\\W?d{1,4}|\\W?M{1,4}|\\W?Y{2,4}/g, '')\n    .trim()\n}\n\nexport const dateEquals = function (a: Date | unknown, b: Date | unknown) {\n  const aIsDate = isDate(a)\n  const bIsDate = isDate(b)\n  if (aIsDate && bIsDate) {\n    return a.getTime() === b.getTime()\n  }\n  if (!aIsDate && !bIsDate) {\n    return a === b\n  }\n  return false\n}\n\nexport const valueEquals = function (\n  a: Array<Date> | unknown,\n  b: Array<Date> | unknown\n) {\n  const aIsArray = isArray(a)\n  const bIsArray = isArray(b)\n  if (aIsArray && bIsArray) {\n    if (a.length !== b.length) {\n      return false\n    }\n    return a.every((item, index) => dateEquals(item, b[index]))\n  }\n  if (!aIsArray && !bIsArray) {\n    return dateEquals(a, b)\n  }\n  return false\n}\n\nexport const parseDate = function (\n  date: string | number | Date,\n  format: string | undefined,\n  lang: string\n) {\n  const day =\n    isEmpty(format) || format === 'x'\n      ? dayjs(date).locale(lang)\n      : dayjs(date, format).locale(lang)\n  return day.isValid() ? day : undefined\n}\n\nexport const formatter = function (\n  date: string | number | Date | Dayjs,\n  format: string | undefined,\n  lang: string\n) {\n  if (isEmpty(format)) return date\n  if (format === 'x') return +date\n  return dayjs(date).locale(lang).format(format)\n}\n\nexport const makeList = (total: number, method?: () => number[]) => {\n  const arr: boolean[] = []\n  const disabledArr = method?.()\n  for (let i = 0; i < total; i++) {\n    arr.push(disabledArr?.includes(i) ?? false)\n  }\n  return arr\n}\n\nexport const dayOrDaysToDate = (dayOrDays: DayOrDays): DateOrDates => {\n  return isArray(dayOrDays)\n    ? (dayOrDays.map((d) => d.toDate()) as [Date, Date])\n    : dayOrDays.toDate()\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}