{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.array.includes.js\");\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.string.includes.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar useCheckboxDisabled = require('./use-checkbox-disabled.js');\nvar useCheckboxEvent = require('./use-checkbox-event.js');\nvar useCheckboxModel = require('./use-checkbox-model.js');\nvar useCheckboxStatus = require('./use-checkbox-status.js');\nvar useFormItem = require('../../../form/src/hooks/use-form-item.js');\nvar index = require('../../../../hooks/use-deprecated/index.js');\nvar types = require('../../../../utils/types.js');\nvar shared = require('@vue/shared');\nvar useCheckbox = function useCheckbox(props, slots) {\n  var _useFormItem$useFormI = useFormItem.useFormItem(),\n    elFormItem = _useFormItem$useFormI.formItem;\n  var _useCheckboxModel$use = useCheckboxModel.useCheckboxModel(props),\n    model = _useCheckboxModel$use.model,\n    isGroup = _useCheckboxModel$use.isGroup,\n    isLimitExceeded = _useCheckboxModel$use.isLimitExceeded;\n  var _useCheckboxStatus$us = useCheckboxStatus.useCheckboxStatus(props, slots, {\n      model: model\n    }),\n    isFocused = _useCheckboxStatus$us.isFocused,\n    isChecked = _useCheckboxStatus$us.isChecked,\n    checkboxButtonSize = _useCheckboxStatus$us.checkboxButtonSize,\n    checkboxSize = _useCheckboxStatus$us.checkboxSize,\n    hasOwnLabel = _useCheckboxStatus$us.hasOwnLabel,\n    actualValue = _useCheckboxStatus$us.actualValue;\n  var _useCheckboxDisabled$ = useCheckboxDisabled.useCheckboxDisabled({\n      model: model,\n      isChecked: isChecked\n    }),\n    isDisabled = _useCheckboxDisabled$.isDisabled;\n  var _useFormItem$useFormI2 = useFormItem.useFormItemInputId(props, {\n      formItemContext: elFormItem,\n      disableIdGeneration: hasOwnLabel,\n      disableIdManagement: isGroup\n    }),\n    inputId = _useFormItem$useFormI2.inputId,\n    isLabeledByFormItem = _useFormItem$useFormI2.isLabeledByFormItem;\n  var _useCheckboxEvent$use = useCheckboxEvent.useCheckboxEvent(props, {\n      model: model,\n      isLimitExceeded: isLimitExceeded,\n      hasOwnLabel: hasOwnLabel,\n      isDisabled: isDisabled,\n      isLabeledByFormItem: isLabeledByFormItem\n    }),\n    handleChange = _useCheckboxEvent$use.handleChange,\n    onClickRoot = _useCheckboxEvent$use.onClickRoot;\n  var setStoreValue = function setStoreValue() {\n    function addToStore() {\n      var _a, _b;\n      if (shared.isArray(model.value) && !model.value.includes(actualValue.value)) {\n        model.value.push(actualValue.value);\n      } else {\n        model.value = (_b = (_a = props.trueValue) != null ? _a : props.trueLabel) != null ? _b : true;\n      }\n    }\n    props.checked && addToStore();\n  };\n  setStoreValue();\n  index.useDeprecated({\n    from: \"label act as value\",\n    replacement: \"value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, vue.computed(function () {\n    return isGroup.value && types.isPropAbsent(props.value);\n  }));\n  index.useDeprecated({\n    from: \"true-label\",\n    replacement: \"true-value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, vue.computed(function () {\n    return !!props.trueLabel;\n  }));\n  index.useDeprecated({\n    from: \"false-label\",\n    replacement: \"false-value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, vue.computed(function () {\n    return !!props.falseLabel;\n  }));\n  return {\n    inputId: inputId,\n    isLabeledByFormItem: isLabeledByFormItem,\n    isChecked: isChecked,\n    isDisabled: isDisabled,\n    isFocused: isFocused,\n    checkboxButtonSize: checkboxButtonSize,\n    checkboxSize: checkboxSize,\n    hasOwnLabel: hasOwnLabel,\n    model: model,\n    actualValue: actualValue,\n    handleChange: handleChange,\n    onClickRoot: onClickRoot\n  };\n};\nexports.useCheckbox = useCheckbox;","map":{"version":3,"names":["useCheckbox","props","slots","_useFormItem$useFormI","useFormItem","elFormItem","formItem","_useCheckboxModel$use","useCheckboxModel","model","isGroup","isLimitExceeded","_useCheckboxStatus$us","useCheckboxStatus","isFocused","isChecked","checkboxButtonSize","checkboxSize","hasOwnLabel","actualValue","_useCheckboxDisabled$","useCheckboxDisabled","isDisabled","_useFormItem$useFormI2","useFormItemInputId","formItemContext","disableIdGeneration","disableIdManagement","inputId","isLabeledByFormItem","_useCheckboxEvent$use","useCheckboxEvent","handleChange","onClickRoot","setStoreValue","addToStore","_a","_b","shared","isArray","value","includes","push","trueValue","trueLabel","checked","index","useDeprecated","from","replacement","version","scope","ref","vue","computed","types","isPropAbsent","falseLabel"],"sources":["../../../../../../../packages/components/checkbox/src/composables/use-checkbox.ts"],"sourcesContent":["import { computed } from 'vue'\nimport { useFormItem, useFormItemInputId } from '@element-plus/components/form'\nimport { isArray, isPropAbsent } from '@element-plus/utils'\nimport { useDeprecated } from '@element-plus/hooks'\nimport { useCheckboxDisabled } from './use-checkbox-disabled'\nimport { useCheckboxEvent } from './use-checkbox-event'\nimport { useCheckboxModel } from './use-checkbox-model'\nimport { useCheckboxStatus } from './use-checkbox-status'\nimport type { ComponentInternalInstance } from 'vue'\n\nimport type { CheckboxProps } from '../checkbox'\n\nexport const useCheckbox = (\n  props: CheckboxProps,\n  slots: ComponentInternalInstance['slots']\n) => {\n  const { formItem: elFormItem } = useFormItem()\n  const { model, isGroup, isLimitExceeded } = useCheckboxModel(props)\n  const {\n    isFocused,\n    isChecked,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    actualValue,\n  } = useCheckboxStatus(props, slots, { model })\n  const { isDisabled } = useCheckboxDisabled({ model, isChecked })\n  const { inputId, isLabeledByFormItem } = useFormItemInputId(props, {\n    formItemContext: elFormItem,\n    disableIdGeneration: hasOwnLabel,\n    disableIdManagement: isGroup,\n  })\n  const { handleChange, onClickRoot } = useCheckboxEvent(props, {\n    model,\n    isLimitExceeded,\n    hasOwnLabel,\n    isDisabled,\n    isLabeledByFormItem,\n  })\n\n  const setStoreValue = () => {\n    function addToStore() {\n      if (isArray(model.value) && !model.value.includes(actualValue.value)) {\n        model.value.push(actualValue.value)\n      } else {\n        model.value = props.trueValue ?? props.trueLabel ?? true\n      }\n    }\n    props.checked && addToStore()\n  }\n\n  setStoreValue()\n\n  useDeprecated(\n    {\n      from: 'label act as value',\n      replacement: 'value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => isGroup.value && isPropAbsent(props.value))\n  )\n\n  useDeprecated(\n    {\n      from: 'true-label',\n      replacement: 'true-value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => !!props.trueLabel)\n  )\n\n  useDeprecated(\n    {\n      from: 'false-label',\n      replacement: 'false-value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => !!props.falseLabel)\n  )\n\n  return {\n    inputId,\n    isLabeledByFormItem,\n    isChecked,\n    isDisabled,\n    isFocused,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    model,\n    actualValue,\n    handleChange,\n    onClickRoot,\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}