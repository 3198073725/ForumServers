{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.iterator.constructor.js\");\nrequire(\"core-js/modules/es.iterator.filter.js\");\nrequire(\"core-js/modules/es.iterator.map.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar vnode = require('../../utils/vue/vnode.js');\nvar getOrderedChildren = function getOrderedChildren(vm, childComponentName, children) {\n  var nodes = vnode.flattedChildren(vm.subTree).filter(function (n) {\n    var _a;\n    return vue.isVNode(n) && ((_a = n.type) == null ? void 0 : _a.name) === childComponentName && !!n.component;\n  });\n  var uids = nodes.map(function (n) {\n    return n.component.uid;\n  });\n  return uids.map(function (uid) {\n    return children[uid];\n  }).filter(function (p) {\n    return !!p;\n  });\n};\nvar useOrderedChildren = function useOrderedChildren(vm, childComponentName) {\n  var children = {};\n  var orderedChildren = vue.shallowRef([]);\n  var addChild = function addChild(child) {\n    children[child.uid] = child;\n    orderedChildren.value = getOrderedChildren(vm, childComponentName, children);\n  };\n  var removeChild = function removeChild(uid) {\n    delete children[uid];\n    orderedChildren.value = orderedChildren.value.filter(function (children2) {\n      return children2.uid !== uid;\n    });\n  };\n  return {\n    children: orderedChildren,\n    addChild: addChild,\n    removeChild: removeChild\n  };\n};\nexports.useOrderedChildren = useOrderedChildren;","map":{"version":3,"names":["getOrderedChildren","vm","childComponentName","children","nodes","vnode","flattedChildren","subTree","filter","n","_a","vue","isVNode","type","name","component","uids","map","uid","p","useOrderedChildren","orderedChildren","shallowRef","addChild","child","value","removeChild","children2"],"sources":["../../../../../packages/hooks/use-ordered-children/index.ts"],"sourcesContent":["import { isVNode, shallowRef } from 'vue'\nimport { flattedChildren } from '@element-plus/utils'\n\nimport type { ComponentInternalInstance, VNode } from 'vue'\n\nconst getOrderedChildren = <T>(\n  vm: ComponentInternalInstance,\n  childComponentName: string,\n  children: Record<number, T>\n): T[] => {\n  const nodes = flattedChildren(vm.subTree).filter(\n    (n): n is VNode =>\n      isVNode(n) &&\n      (n.type as any)?.name === childComponentName &&\n      !!n.component\n  )\n  const uids = nodes.map((n) => n.component!.uid)\n  return uids.map((uid) => children[uid]).filter((p) => !!p)\n}\n\nexport const useOrderedChildren = <T extends { uid: number }>(\n  vm: ComponentInternalInstance,\n  childComponentName: string\n) => {\n  const children: Record<number, T> = {}\n  const orderedChildren = shallowRef<T[]>([])\n\n  // TODO: split into two functions: addChild and sortChildren\n  const addChild = (child: T) => {\n    children[child.uid] = child\n    orderedChildren.value = getOrderedChildren(vm, childComponentName, children)\n  }\n  const removeChild = (uid: number) => {\n    delete children[uid]\n    orderedChildren.value = orderedChildren.value.filter(\n      (children) => children.uid !== uid\n    )\n  }\n\n  return {\n    children: orderedChildren,\n    addChild,\n    removeChild,\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;AAEA,IAAMA,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIC,EAAE,EAAEC,kBAAkB,EAAEC,QAAQ,EAAK;EAC/D,IAAMC,KAAK,GAAGC,KAAA,CAAAC,eAAe,CAACL,EAAE,CAACM,OAAO,CAAC,CAACC,MAAM,CAAC,UAACC,CAAC,EAAK;IACtD,IAAIC,EAAE;IACN,OAAOC,GAAA,CAAAC,OAAO,CAACH,CAAC,CAAC,IAAI,CAAC,CAACC,EAAE,GAAGD,CAAC,CAACI,IAAI,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGH,EAAE,CAACI,IAAI,MAAMZ,kBAAkB,IAAI,CAAC,CAACO,CAAC,CAACM,SAAS;EAC3G,CAAG,CAAC;EACF,IAAMC,IAAI,GAAGZ,KAAK,CAACa,GAAG,CAAC,UAACR,CAAC;IAAA,OAAKA,CAAC,CAACM,SAAS,CAACG,GAAG;EAAA,EAAC;EAC9C,OAAOF,IAAI,CAACC,GAAG,CAAC,UAACC,GAAG;IAAA,OAAKf,QAAQ,CAACe,GAAG,CAAC;EAAA,EAAC,CAACV,MAAM,CAAC,UAACW,CAAC;IAAA,OAAK,CAAC,CAACA,CAAC;EAAA,EAAC;AAC5D,CAAC;AACW,IAACC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAInB,EAAE,EAAEC,kBAAkB,EAAK;EAC5D,IAAMC,QAAQ,GAAG,EAAE;EACnB,IAAMkB,eAAe,GAAGV,GAAA,CAAAW,UAAU,CAAC,EAAE,CAAC;EACtC,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,KAAK,EAAK;IAC1BrB,QAAQ,CAACqB,KAAK,CAACN,GAAG,CAAC,GAAGM,KAAK;IAC3BH,eAAe,CAACI,KAAK,GAAGzB,kBAAkB,CAACC,EAAE,EAAEC,kBAAkB,EAAEC,QAAQ,CAAC;EAChF,CAAG;EACD,IAAMuB,WAAW,GAAG,SAAdA,WAAWA,CAAIR,GAAG,EAAK;IAC3B,OAAOf,QAAQ,CAACe,GAAG,CAAC;IACpBG,eAAe,CAACI,KAAK,GAAGJ,eAAe,CAACI,KAAK,CAACjB,MAAM,CAAC,UAACmB,SAAS;MAAA,OAAKA,SAAS,CAACT,GAAG,KAAKA,GAAG;IAAA,EAAC;EAC9F,CAAG;EACD,OAAO;IACLf,QAAQ,EAAEkB,eAAe;IACzBE,QAAQ,EAARA,QAAQ;IACRG,WAAW,EAAXA;EACJ,CAAG;AACH","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}