{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar core = require('@vueuse/core');\nvar usePreventGlobal = function usePreventGlobal(indicator, evt, cb) {\n  var prevent = function prevent(e) {\n    if (cb(e)) e.stopImmediatePropagation();\n  };\n  var stop = void 0;\n  vue.watch(function () {\n    return indicator.value;\n  }, function (val) {\n    if (val) {\n      stop = core.useEventListener(document, evt, prevent, true);\n    } else {\n      stop == null ? void 0 : stop();\n    }\n  }, {\n    immediate: true\n  });\n};\nexports.usePreventGlobal = usePreventGlobal;","map":{"version":3,"names":["usePreventGlobal","indicator","evt","cb","prevent","e","stopImmediatePropagation","stop","vue","watch","value","val","core","useEventListener","document","immediate"],"sources":["../../../../../packages/hooks/use-prevent-global/index.ts"],"sourcesContent":["import { watch } from 'vue'\nimport { useEventListener } from '@vueuse/core'\nimport type { Ref } from 'vue'\n\nexport const usePreventGlobal = <E extends keyof DocumentEventMap>(\n  indicator: Ref<boolean>,\n  evt: E,\n  cb: (e: DocumentEventMap[E]) => boolean\n) => {\n  const prevent = (e: DocumentEventMap[E]) => {\n    if (cb(e)) e.stopImmediatePropagation()\n  }\n  let stop: (() => void) | undefined = undefined\n  watch(\n    () => indicator.value,\n    (val) => {\n      if (val) {\n        stop = useEventListener(document, evt, prevent, true)\n      } else {\n        stop?.()\n      }\n    },\n    { immediate: true }\n  )\n}\n"],"mappings":";;;;;;;;AAEY,IAACA,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,SAAS,EAAEC,GAAG,EAAEC,EAAE,EAAK;EACtD,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAIC,CAAC,EAAK;IACrB,IAAIF,EAAE,CAACE,CAAC,CAAC,EACPA,CAAC,CAACC,wBAAwB,EAAE;EAClC,CAAG;EACD,IAAIC,IAAI,GAAG,KAAK,CAAC;EACjBC,GAAA,CAAAC,KAAK,CAAC;IAAA,OAAMR,SAAS,CAACS,KAAK;EAAA,GAAE,UAACC,GAAG,EAAK;IACpC,IAAIA,GAAG,EAAE;MACPJ,IAAI,GAAGK,IAAA,CAAAC,gBAAgB,CAACC,QAAQ,EAAEZ,GAAG,EAAEE,OAAO,EAAE,IAAI,CAAC;IAC3D,CAAK,MAAM;MACLG,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,EAAE;IACpC;EACA,CAAG,EAAE;IAAEQ,SAAS,EAAE;EAAI,CAAE,CAAC;AACzB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}