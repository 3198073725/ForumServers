{"ast":null,"code":"'use strict';\n\nvar _objectSpread = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/objectSpread2.js\")[\"default\"];\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar index$1 = require('../../tooltip/index.js');\nvar useMenu = require('./use-menu.js');\nvar menuItem = require('./menu-item2.js');\nvar pluginVue_exportHelper = require('../../../_virtual/plugin-vue_export-helper.js');\nvar index = require('../../../hooks/use-namespace/index.js');\nvar error = require('../../../utils/error.js');\nvar COMPONENT_NAME = \"ElMenuItem\";\nvar __default__ = vue.defineComponent({\n  name: COMPONENT_NAME\n});\nvar _sfc_main = /* @__PURE__ */vue.defineComponent(_objectSpread(_objectSpread({}, __default__), {}, {\n  props: menuItem.menuItemProps,\n  emits: menuItem.menuItemEmits,\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose,\n      emit = _ref.emit;\n    var props = __props;\n    var instance = vue.getCurrentInstance();\n    var rootMenu = vue.inject(\"rootMenu\");\n    var nsMenu = index.useNamespace(\"menu\");\n    var nsMenuItem = index.useNamespace(\"menu-item\");\n    if (!rootMenu) error.throwError(COMPONENT_NAME, \"can not inject root menu\");\n    var _useMenu$default = useMenu[\"default\"](instance, vue.toRef(props, \"index\")),\n      parentMenu = _useMenu$default.parentMenu,\n      indexPath = _useMenu$default.indexPath;\n    var subMenu = vue.inject(\"subMenu:\".concat(parentMenu.value.uid));\n    if (!subMenu) error.throwError(COMPONENT_NAME, \"can not inject sub menu\");\n    var active = vue.computed(function () {\n      return props.index === rootMenu.activeIndex;\n    });\n    var item = vue.reactive({\n      index: props.index,\n      indexPath: indexPath,\n      active: active\n    });\n    var handleClick = function handleClick() {\n      if (!props.disabled) {\n        rootMenu.handleMenuItemClick({\n          index: props.index,\n          indexPath: indexPath.value,\n          route: props.route\n        });\n        emit(\"click\", item);\n      }\n    };\n    vue.onMounted(function () {\n      subMenu.addSubMenu(item);\n      rootMenu.addMenuItem(item);\n    });\n    vue.onBeforeUnmount(function () {\n      subMenu.removeSubMenu(item);\n      rootMenu.removeMenuItem(item);\n    });\n    expose({\n      parentMenu: parentMenu,\n      rootMenu: rootMenu,\n      active: active,\n      nsMenu: nsMenu,\n      nsMenuItem: nsMenuItem,\n      handleClick: handleClick\n    });\n    return function (_ctx, _cache) {\n      return vue.openBlock(), vue.createElementBlock(\"li\", {\n        \"class\": vue.normalizeClass([vue.unref(nsMenuItem).b(), vue.unref(nsMenuItem).is(\"active\", vue.unref(active)), vue.unref(nsMenuItem).is(\"disabled\", _ctx.disabled)]),\n        role: \"menuitem\",\n        tabindex: \"-1\",\n        onClick: handleClick\n      }, [vue.unref(parentMenu).type.name === \"ElMenu\" && vue.unref(rootMenu).props.collapse && _ctx.$slots.title ? (vue.openBlock(), vue.createBlock(vue.unref(index$1.ElTooltip), {\n        key: 0,\n        effect: vue.unref(rootMenu).props.popperEffect,\n        placement: \"right\",\n        \"fallback-placements\": [\"left\"],\n        persistent: vue.unref(rootMenu).props.persistent\n      }, {\n        content: vue.withCtx(function () {\n          return [vue.renderSlot(_ctx.$slots, \"title\")];\n        }),\n        \"default\": vue.withCtx(function () {\n          return [vue.createElementVNode(\"div\", {\n            \"class\": vue.normalizeClass(vue.unref(nsMenu).be(\"tooltip\", \"trigger\"))\n          }, [vue.renderSlot(_ctx.$slots, \"default\")], 2)];\n        }),\n        _: 3\n      }, 8, [\"effect\", \"persistent\"])) : (vue.openBlock(), vue.createElementBlock(vue.Fragment, {\n        key: 1\n      }, [vue.renderSlot(_ctx.$slots, \"default\"), vue.renderSlot(_ctx.$slots, \"title\")], 64))], 2);\n    };\n  }\n}));\nvar MenuItem = /* @__PURE__ */pluginVue_exportHelper[\"default\"](_sfc_main, [[\"__file\", \"menu-item.vue\"]]);\nexports[\"default\"] = MenuItem;","map":{"version":3,"names":["name","COMPONENT_NAME","instance","vue","getCurrentInstance","rootMenu","inject","nsMenu","index","useNamespace","nsMenuItem","error","throwError","_useMenu$default","useMenu","toRef","props","parentMenu","indexPath","subMenu","concat","value","uid","active","computed","activeIndex","item","reactive","handleClick","disabled","handleMenuItemClick","route","emit","onMounted","addSubMenu","addMenuItem","onBeforeUnmount","removeSubMenu","removeMenuItem","expose"],"sources":["../../../../../../packages/components/menu/src/menu-item.vue"],"sourcesContent":["<template>\n  <li\n    :class=\"[\n      nsMenuItem.b(),\n      nsMenuItem.is('active', active),\n      nsMenuItem.is('disabled', disabled),\n    ]\"\n    role=\"menuitem\"\n    tabindex=\"-1\"\n    @click=\"handleClick\"\n  >\n    <el-tooltip\n      v-if=\"\n        parentMenu.type.name === 'ElMenu' &&\n        rootMenu.props.collapse &&\n        $slots.title\n      \"\n      :effect=\"rootMenu.props.popperEffect\"\n      placement=\"right\"\n      :fallback-placements=\"['left']\"\n      :persistent=\"rootMenu.props.persistent\"\n    >\n      <template #content>\n        <slot name=\"title\" />\n      </template>\n      <div :class=\"nsMenu.be('tooltip', 'trigger')\">\n        <slot />\n      </div>\n    </el-tooltip>\n    <template v-else>\n      <slot />\n      <slot name=\"title\" />\n    </template>\n  </li>\n</template>\n\n<script lang=\"ts\" setup>\n// @ts-nocheck\nimport {\n  computed,\n  getCurrentInstance,\n  inject,\n  onBeforeUnmount,\n  onMounted,\n  reactive,\n  toRef,\n} from 'vue'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport { throwError } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport useMenu from './use-menu'\nimport { menuItemEmits, menuItemProps } from './menu-item'\n\nimport type { MenuItemRegistered, MenuProvider, SubMenuProvider } from './types'\n\nconst COMPONENT_NAME = 'ElMenuItem'\ndefineOptions({\n  name: COMPONENT_NAME,\n})\nconst props = defineProps(menuItemProps)\nconst emit = defineEmits(menuItemEmits)\n\nconst instance = getCurrentInstance()!\nconst rootMenu = inject<MenuProvider>('rootMenu')\nconst nsMenu = useNamespace('menu')\nconst nsMenuItem = useNamespace('menu-item')\nif (!rootMenu) throwError(COMPONENT_NAME, 'can not inject root menu')\n\nconst { parentMenu, indexPath } = useMenu(instance, toRef(props, 'index'))\n\nconst subMenu = inject<SubMenuProvider>(`subMenu:${parentMenu.value.uid}`)\nif (!subMenu) throwError(COMPONENT_NAME, 'can not inject sub menu')\n\nconst active = computed(() => props.index === rootMenu.activeIndex)\nconst item: MenuItemRegistered = reactive({\n  index: props.index,\n  indexPath,\n  active,\n})\n\nconst handleClick = () => {\n  if (!props.disabled) {\n    rootMenu.handleMenuItemClick({\n      index: props.index,\n      indexPath: indexPath.value,\n      route: props.route,\n    })\n    emit('click', item)\n  }\n}\n\nonMounted(() => {\n  subMenu.addSubMenu(item)\n  rootMenu.addMenuItem(item)\n})\n\nonBeforeUnmount(() => {\n  subMenu.removeSubMenu(item)\n  rootMenu.removeMenuItem(item)\n})\n\ndefineExpose({\n  parentMenu,\n  rootMenu,\n  active,\n  nsMenu,\n  nsMenuItem,\n  handleClick,\n})\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;qCAwDc;EACZA,IAAM,EAAAC;AACR;;;;;;;;IAIA,IAAMC,QAAA,GAAWC,GAAA,CAAAC,kBAAmB;IAC9B,IAAAC,QAAA,GAAWF,GAAA,CAAAG,MAAA,CAAqB,UAAU;IAC1C,IAAAC,MAAA,GAASC,KAAA,CAAAC,YAAA,CAAa,MAAM;IAC5B,IAAAC,UAAA,GAAaF,KAAA,CAAAC,YAAA,CAAa,WAAW;IAC3C,IAAI,CAACJ,QAAA,EAECM,KAAA,CAAAC,UAAA,CAAAX,cAAwB,4BAAsB;IAEpD,IAAAY,gBAAA,GAAmDC,OAAA,WAAW,CAAAZ,QAAA,EAAAC,GAAA,CAAAY,KAAW,CAAAC,KAAA;MAAnEC,UAAkC,GAAAJ,gBAAA,CAAlCI,UAAkC;MAAAC,SAAA,GAAAL,gBAAA,CAAAK,SAAA;IACxC,IAAKC,OAAS,GAAWhB,GAAA,CAAAG,MAAA,YAAAc,MAAA,CAAAH,UAAyC,CAAAI,KAAA,CAAAC,GAAA;IAElE,KAAAH,OAAA,EACAR,KAAA,CAAAC,UAAA,CAAiCX,cAAS;IAAA,IAAAsB,MAC3B,GAAApB,GAAA,CAAAqB,QAAA;MAAA,OAAAR,KAAA,CAAAR,KAAA,KAAAH,QAAA,CAAAoB,WAAA;IAAA;IACb,IAAAC,IAAA,GAAAvB,GAAA,CAAAwB,QAAA;MACAnB,KAAA,EAAAQ,KAAA,CAAAR,KAAA;MACDU,SAAA,EAAAA,SAAA;MAEDK,MAAA,EAAAA;IACE,CAAI;IACF,IAAAK,WAA6B,YAA7BA,WAA6BA,CAAA;MAAA,IAC3B,CAAAZ,KAAA,CAAOa,QAAM;QAAAxB,QAAA,CAAAyB,mBACQ;UACrBtB,KAAA,EAAOQ,KAAM,CAAAR,KAAA;UACdU,SAAA,EAAAA,SAAA,CAAAG,KAAA;UACDU,KAAA,EAAAf,KAAc,CAAIe;QAAA,CACpB;QACFC,IAAA,UAAAN,IAAA;MAEA;IACE;IACAvB,GAAA,CAAA8B,SAAA;MACDd,OAAA,CAAAe,UAAA,CAAAR,IAAA;MAEDrB,QAAA,CAAA8B,WAAsB,CAAAT,IAAA;IACpB;IACAvB,GAAA,CAAAiC,eAAA;MACDjB,OAAA,CAAAkB,aAAA,CAAAX,IAAA;MAEYrB,QAAA,CAAAiC,cAAA,CAAAZ,IAAA;IAAA,CACX;IACAa,MAAA;MACAtB,UAAA,EAAAA,UAAA;MACAZ,QAAA,EAAAA,QAAA;MACAkB,MAAA,EAAAA,MAAA;MACAhB,MAAA,EAAAA,MAAA;MACDG,UAAA,EAAAA,UAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}