{"ast":null,"code":"'use strict';\n\nvar _objectSpread = require(\"H:/ForumServers/ForumFrontend/node_modules/@babel/runtime/helpers/objectSpread2.js\")[\"default\"];\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.array.fill.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar vue = require('vue');\nvar mask = require('./mask.js');\nvar helper = require('./helper.js');\nvar pluginVue_exportHelper = require('../../../_virtual/plugin-vue_export-helper.js');\nvar index = require('../../../hooks/use-lockscreen/index.js');\nvar __default__ = vue.defineComponent({\n  name: \"ElTourMask\",\n  inheritAttrs: false\n});\nvar _sfc_main = /* @__PURE__ */vue.defineComponent(_objectSpread(_objectSpread({}, __default__), {}, {\n  props: mask.maskProps,\n  setup: function setup(__props) {\n    var props = __props;\n    var _vue$inject = vue.inject(helper.tourKey),\n      ns = _vue$inject.ns;\n    var radius = vue.computed(function () {\n      var _a, _b;\n      return (_b = (_a = props.pos) == null ? void 0 : _a.radius) != null ? _b : 2;\n    });\n    var roundInfo = vue.computed(function () {\n      var v = radius.value;\n      var baseInfo = \"a\".concat(v, \",\").concat(v, \" 0 0 1\");\n      return {\n        topRight: \"\".concat(baseInfo, \" \").concat(v, \",\").concat(v),\n        bottomRight: \"\".concat(baseInfo, \" \").concat(-v, \",\").concat(v),\n        bottomLeft: \"\".concat(baseInfo, \" \").concat(-v, \",\").concat(-v),\n        topLeft: \"\".concat(baseInfo, \" \").concat(v, \",\").concat(-v)\n      };\n    });\n    var path = vue.computed(function () {\n      var width = window.innerWidth;\n      var height = window.innerHeight;\n      var info = roundInfo.value;\n      var _path = \"M\".concat(width, \",0 L0,0 L0,\").concat(height, \" L\").concat(width, \",\").concat(height, \" L\").concat(width, \",0 Z\");\n      var _radius = radius.value;\n      return props.pos ? \"\".concat(_path, \" M\").concat(props.pos.left + _radius, \",\").concat(props.pos.top, \" h\").concat(props.pos.width - _radius * 2, \" \").concat(info.topRight, \" v\").concat(props.pos.height - _radius * 2, \" \").concat(info.bottomRight, \" h\").concat(-props.pos.width + _radius * 2, \" \").concat(info.bottomLeft, \" v\").concat(-props.pos.height + _radius * 2, \" \").concat(info.topLeft, \" z\") : _path;\n    });\n    var pathStyle = vue.computed(function () {\n      return {\n        fill: props.fill,\n        pointerEvents: \"auto\",\n        cursor: \"auto\"\n      };\n    });\n    index.useLockscreen(vue.toRef(props, \"visible\"), {\n      ns: ns\n    });\n    return function (_ctx, _cache) {\n      return _ctx.visible ? (vue.openBlock(), vue.createElementBlock(\"div\", vue.mergeProps({\n        key: 0,\n        \"class\": vue.unref(ns).e(\"mask\"),\n        style: {\n          position: \"fixed\",\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0,\n          zIndex: _ctx.zIndex,\n          pointerEvents: _ctx.pos && _ctx.targetAreaClickable ? \"none\" : \"auto\"\n        }\n      }, _ctx.$attrs), [(vue.openBlock(), vue.createElementBlock(\"svg\", {\n        style: {\n          width: \"100%\",\n          height: \"100%\"\n        }\n      }, [vue.createElementVNode(\"path\", {\n        \"class\": vue.normalizeClass(vue.unref(ns).e(\"hollow\")),\n        style: vue.normalizeStyle(vue.unref(pathStyle)),\n        d: vue.unref(path)\n      }, null, 14, [\"d\"])]))], 16)) : vue.createCommentVNode(\"v-if\", true);\n    };\n  }\n}));\nvar ElTourMask = /* @__PURE__ */pluginVue_exportHelper[\"default\"](_sfc_main, [[\"__file\", \"mask.vue\"]]);\nexports[\"default\"] = ElTourMask;","map":{"version":3,"names":["name","inheritAttrs","_vue$inject","vue","inject","helper","tourKey","ns","radius","computed","_a","_b","props","pos","roundInfo","v","value","baseInfo","concat","topRight","bottomRight","bottomLeft","topLeft","path","width","window","innerWidth","height","innerHeight","info","_path","_radius","left","top","pathStyle","fill","pointerEvents","cursor"],"sources":["../../../../../../packages/components/tour/src/mask.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"visible\"\n    :class=\"ns.e('mask')\"\n    :style=\"({\n    position: 'fixed',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    zIndex,\n    pointerEvents: pos && targetAreaClickable ? 'none' : 'auto',\n  } as any)\"\n    v-bind=\"$attrs\"\n  >\n    <svg\n      :style=\"{\n        width: '100%',\n        height: '100%',\n      }\"\n    >\n      <path :class=\"ns.e('hollow')\" :style=\"pathStyle\" :d=\"path\" />\n    </svg>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, inject, toRef } from 'vue'\nimport { useLockscreen } from '@element-plus/hooks'\nimport { maskProps } from './mask'\nimport { tourKey } from './helper'\nimport type { CSSProperties } from 'vue'\n\ndefineOptions({\n  name: 'ElTourMask',\n  inheritAttrs: false,\n})\n\nconst props = defineProps(maskProps)\n\nconst { ns } = inject(tourKey)!\nconst radius = computed(() => props.pos?.radius ?? 2)\nconst roundInfo = computed(() => {\n  const v = radius.value\n  const baseInfo = `a${v},${v} 0 0 1`\n  return {\n    topRight: `${baseInfo} ${v},${v}`,\n    bottomRight: `${baseInfo} ${-v},${v}`,\n    bottomLeft: `${baseInfo} ${-v},${-v}`,\n    topLeft: `${baseInfo} ${v},${-v}`,\n  }\n})\n\nconst path = computed(() => {\n  const width = window.innerWidth\n  const height = window.innerHeight\n  const info = roundInfo.value\n  const _path = `M${width},0 L0,0 L0,${height} L${width},${height} L${width},0 Z`\n  const _radius = radius.value\n  return props.pos\n    ? `${_path} M${props.pos.left + _radius},${props.pos.top} h${\n        props.pos.width - _radius * 2\n      } ${info.topRight} v${props.pos.height - _radius * 2} ${\n        info.bottomRight\n      } h${-props.pos.width + _radius * 2} ${info.bottomLeft} v${\n        -props.pos.height + _radius * 2\n      } ${info.topLeft} z`\n    : _path\n})\n\nconst pathStyle = computed<CSSProperties>(() => {\n  return {\n    fill: props.fill,\n    pointerEvents: 'auto',\n    cursor: 'auto',\n  }\n})\n\nuseLockscreen(toRef(props, 'visible'), {\n  ns,\n})\n</script>\n"],"mappings":";;;;;;;;;;;;;;qCAiCc;EACZA,IAAM;EACNC,YAAc;AAChB;;;;;IAIA,IAAAC,WAAA,GAAeC,GAAA,CAAAC,MAAA,CAAOC,MAAA,CAAAC,OAAO;MAArBC,EAAA,GAAAL,WAAA,CAAAK,EAAA;IACR,IAAMC,MAAA,GAASL,GAAA,CAAAM,QAAS,aAAM;MACxB,IAAAC,EAAA,EAAAC,EAAA;MACJ,QAAAA,EAAU,GAAO,CAAAD,EAAA,GAAAE,KAAA,CAAAC,GAAA,qBAAAH,EAAA,CAAAF,MAAA,YAAAG,EAAA;IACjB;IACO,IAAAG,SAAA,GAAAX,GAAA,CAAAM,QAAA;MAAA,IAAAM,CAAA,GAAAP,MACQ,CAAAQ,KAAA;MAAkB,IAAAC,QAAA,OAAAC,MAAA,CACfH,CAAA,OAAAG,MAAA,CAAQH,CAAA;MACxB;QACAI,QAAA,KAAAD,MAAA,CAAYD,QAAA,OAAAC,MAAA,CAAaH,CAAA,OAAAG,MAAA,CAAKH,CAAC;QACjCK,WAAA,KAAAF,MAAA,CAAAD,QAAA,OAAAC,MAAA,EAAAH,CAAA,OAAAG,MAAA,CAAAH,CAAA;QACDM,UAAA,KAAAH,MAAA,CAAAD,QAAA,OAAAC,MAAA,EAAAH,CAAA,OAAAG,MAAA,EAAAH,CAAA;QAEKO,OAAA,KAAAJ,MAAA,CAAOD,QAAe,OAAAC,MAAA,CAAAH,CAAA,OAAAG,MAAA,EAAAH,CAAA;MAC1B;IACA;IACA,IAAAQ,IAAA,GAAApB,GAAA,CAAAM,QAAuB;MACjB,IAAAe,KAAA,GAAQC,MAAI,CAAAC,UAAmB;MACrC,IAAMC,MAAA,GAAAF,MAAiB,CAAAG,WAAA;MAChB,IAAAC,IAAA,GAAMf,SACN,CAAAE,KAAA;MAQR,IAAAc,KAAA,OAAAZ,MAAA,CAAAM,KAAA,iBAAAN,MAAA,CAAAS,MAAA,QAAAT,MAAA,CAAAM,KAAA,OAAAN,MAAA,CAAAS,MAAA,QAAAT,MAAA,CAAAM,KAAA;MAEK,IAAAO,OAAA,GAAYvB,MAAA,CAAAQ,KAA8B;MACvC,OAAAJ,KAAA,CAAAC,GAAA,MAAAK,MAAA,CAAAY,KAAA,QAAAZ,MAAA,CAAAN,KAAA,CAAAC,GAAA,CAAAmB,IAAA,GAAAD,OAAA,OAAAb,MAAA,CAAAN,KAAA,CAAAC,GAAA,CAAAoB,GAAA,QAAAf,MAAA,CAAAN,KAAA,CAAAC,GAAA,CAAAW,KAAA,GAAAO,OAAA,WAAAb,MAAA,CAAAW,IAAA,CAAAV,QAAA,QAAAD,MAAA,CAAAN,KAAA,CAAAC,GAAA,CAAAc,MAAA,GAAAI,OAAA,WAAAb,MAAA,CAAAW,IAAA,CAAAT,WAAA,QAAAF,MAAA,EAAAN,KAAA,CAAAC,GAAA,CAAAW,KAAA,GAAAO,OAAA,WAAAb,MAAA,CAAAW,IAAA,CAAAR,UAAA,QAAAH,MAAA,EAAAN,KAAA,CAAAC,GAAA,CAAAc,MAAA,GAAAI,OAAA,WAAAb,MAAA,CAAAW,IAAA,CAAAP,OAAA,UAAAQ,KAAA;IAAA;IACO,IACGI,SAAA,GAAA/B,GAAA,CAAAM,QAAA;MAAA,OACP;QACV0B,IAAA,EAAAvB,KAAA,CAAAuB,IAAA;QACDC,aAAA;QAEaC,MAAA;MAAyB,CACrC;IAAA,CACD","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}